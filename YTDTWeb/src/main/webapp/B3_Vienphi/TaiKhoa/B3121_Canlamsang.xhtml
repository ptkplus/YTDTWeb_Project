<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:a4j="http://richfaces.org/a4j"
                 xmlns:c="http://java.sun.com/jstl/core" 
                template="/layout/mytemplate.xhtml">

<ui:define name="body">	

<f:loadBundle var="msg" basename="com.iesvn.yte.UIResources" />

	<script type="text/javascript">
	function setValueFromKetQuaThucHienCLS(){
        var rowindex = document.getElementById(prefix_component + 'rowindex_hid').value;
        var giatri = document.getElementById(prefix_component + 'giatrithuchien_hid').value;
        //alert(rowindex+ "," + giatri);
        if (giatri == "true"){
                document.getElementById(prefix_component + 'dataTable_NHAPCT:'+rowindex+':thcls_table_output').innerHTML = 'Đã TH';
        }else{
                document.getElementById(prefix_component + 'dataTable_NHAPCT:'+rowindex+':thcls_table_output').innerHTML = 'Chưa TH';
        }

      }
	 var popupwd = null;
     function popup(url,masocls,rowindex)
     {
       document.getElementById(prefix_component + "makhoakhamout_hid").value = document.getElementById(prefix_component + "DM_KHOA_MA").value;
       document.getElementById(prefix_component + "sobenhanout_hid").value = document.getElementById(prefix_component + "__sobenhan").value;

       document.getElementById(prefix_component + "maclsout_hid").value = masocls;
       document.getElementById(prefix_component + "rowindex_hid").value = rowindex;


       //alert(document.getElementById(prefix_component + "mabankhamout_hid").value + "," + document.getElementById(prefix_component + "matiepdonout_hid").value + "," + document.getElementById(prefix_component + "maclsout_hid").value);


       var width  = 800;
       var height = 600;
       var left   = (screen.width  - width)/2;
       var top    = (screen.height - height)/2;
       var params = 'width='+width+', height='+height;
       params += ', top='+top+', left='+left;
       params += ', directories=no';
       params += ', location=no';
       params += ', menubar=no';
       params += ', resizable=yes';
       params += ', scrollbars=yes';
       params += ', status=no';
       params += ', toolbar=no';
       //var urlNew = url + "?mabankham=" + document.getElementById(prefix_component + "mabankhamout_hid").value;
       //urlNew += "&amp;matiepdon=" + document.getElementById(prefix_component + "matiepdonout_hid").value;
       //urlNew += "&amp;maclsout=" + document.getElementById(prefix_component + "maclsout_hid").value;
       popupwd = window.open(url, 'windowname5', params);
       //setDelay();
       timer.setTimeout("setTimerDelay()", 500);
       return false;
     }

     function setTimerDelay(){
       if (window.focus) {
               popupwd.focus();
       }
     }
	
    	
    	
    	function checkEmpty(id){
			if ( document.getElementById(id).value == null || document.getElementById(id).value == "" ){
			
				if(document.getElementById(id).className.match(/focus/gi))
              		document.getElementById(id).className = document.getElementById(id).className.replace(/focus/gi,"");
				return false;
			}
			return true;
		}
		function enterToTab(){
		
		  		  if(
		          	 	(document.getElementById(prefix_component + "__nhaplai") == null ||document.getElementById(prefix_component + "__nhaplai").alt != 1 ) &amp;&amp; 
		           		(document.getElementById(prefix_component + "__ghinhan") == null ||document.getElementById(prefix_component + "__ghinhan").alt ) != 1  &amp;&amp;
		           		(document.getElementById(prefix_component + "__inphieu") == null ||document.getElementById(prefix_component + "__inphieu").alt ) != 1  &amp;&amp;
		           	(document.getElementById(prefix_component + "__themchinhsau") == null ||document.getElementById(prefix_component + "__themchinhsau").alt  != 1)  
		           
		           
		           ) {
		           
		                  if(window.event.keyCode == 13){
		                         window.event.keyCode = 9;
		                   }
		           }
		}
		
		function enableGhinhan(id) {
        	btnGhinhan = document.getElementById(id);
            btnGhinhan.disabled = false;
    	}
    	
        function disableGhinhan(id) {
        	btnGhinhan = document.getElementById(id);
            btnGhinhan.disabled = true;
    	}

		function checkSoluong() {
			var sl =  document.getElementById(prefix_component + "__soluong").value;
			if (sl == null || sl == "" || sl == "0"){
				alert("Cần nhập số lượng, hệ thống chọn SL mặc định = 1!");
				document.getElementById(prefix_component + "__soluong").value = "1";
			}
		}
		
		var bCancel = false;
		var bSave = false;
		
		function setSave() {
			bSave = true;
		}
		function setCancel(){
			bCancel = true;
		}		
		
		function iesvn_Required() {
			this.aa = new Array(prefix_component + "DM_KHOA_MA", "<h:outputFormat value='#{msg.common_requireField}' > <f:param value='Khoa'/> </h:outputFormat>", new Function ("varName",  "return this[varName];"));
 	 		this.ab = new Array(prefix_component + "__sobenhan", "<h:outputFormat value='#{msg.common_requireField}' > <f:param value='Số bệnh án'/> </h:outputFormat>", new Function ("varName",  "return this[varName];"));
 	 		//this.ac = new Array(prefix_component + "__ngay", "<h:outputFormat value='#{msg.common_requireField}' > <f:param value='Ngày điều trị'/> </h:outputFormat>", new Function ("varName",  "return this[varName];"));
 	 		
		}
		
		function iesvn_IntegerValidations(){
		    this.aa = new Array(prefix_component + "__soluong", "<h:outputFormat value='#{msg.common_int}' ><f:param value='Số lượng'/></h:outputFormat>", new Function ("varName", " return this[varName];"));		    
		}

		function iesvn_ComparedDates() {
			this.aa = new Array([prefix_component + "__ngayvv",prefix_component + "__ngay", "=="], 
					"<h:outputFormat value='#{msg.common_compareDates2}' > <f:param value='Ngày nhập CLS'/> <f:param value='Ngày vào viện'/> </h:outputFormat>", 
					new Function ("varName", "this.datePatternStrict='dd/MM/yyyy';  return this[varName];"));
		}
		
		function onSubmitTmp(){
			setSave() ;
			var maPhieu =  document.getElementById(prefix_component + "__maphieu").value;
			var resultHidden = document.getElementById(prefix_component + "resultHidden").value;

			if (maPhieu != null &amp;&amp; maPhieu != "" &amp;&amp; resultHidden != "success"){
			  alert("Không được phép chỉnh sửa phiếu.");
			  return false;
			}
			return onSubmit();
		}

		function onSubmitTmp1(){
			setSave() ;
			checkSoluong();
			var form = document.forms[0];
			var valid = true;
			if (bSave){
		    	bSave = false;	    	    	
		    	valid = iesvn_ValidateComparedDates(form)  ;     	
		    } 
			return valid;
		}
		
		function onSubmit() {
			changeCursorWait ();
			var form = document.forms[0];
			var valid = true;			
			if (bSave){
		    	bSave = false;	    	    	
		    	valid = iesvn_ValidateRequired(form)  ;     	
		    } 	    
		    if (valid == true){	
		        valid = iesvn_ValidateInteger(form)  ;     	
		    }	
		    if (bCancel){
		    	bCancel = false;
		    }
		    if (valid == false){
	    		changeCursorDefault ();
	    	}
		    return valid;
			
		}
		function setClsFocus() {
									
			document.getElementById(prefix_component + '__soluong').focus();
			document.getElementById('DT_DM_CLS_BANG_GIA').focus();				
		}
		function checkNgay() {
			if(document.getElementById(prefix_component + "__ngay").value == '') {
				alert("Ngày bắt buộc nhập.");
				document.getElementById(prefix_component + "__ngay").focus();
				return false;
			}
			return true;  
		}
		function addListCls() {
			if(checkNgay()) {
				getCLSChooseValue();
				return true;
			   
			}
			return false;
		}
		
	</script>
	<body onkeydown="enterToTab();">
	<h:form id="_form" name="_form">
    <div style="width:778px; position:absolute; z-index:99">
    <c:if test="#{tenChuongTrinh.equals(YTDT_Menu.thuVienPhi)}">
    <ui:include src="/layout/mymenu_YTDT_VienPhi_ThuVienPhi.xhtml" />
    </c:if>
    
     <c:if test="#{tenChuongTrinh.equals(YTDT_Menu.vienPhiTaiKhoa)}">
    <ui:include src="/layout/mymenu_YTDT_DieuTriNoiTru.xhtml" />
    </c:if>
    
    </div>
    <table style="margin-top:20px" cellspacing="0" cellpadding="0" border="0" width="777">
    	<tr>
    		<td colspan="3" height="50px">
    			<table cellspacing="0" cellpadding="0" border="0" width="100%" >
    				<tr>
    					<td height="50px" width="50%" style="padding-left: 18px; font-family: Arial; font-size: 18px; color: white; font-weight: bold;" >    			
    						<h:graphicImage value="/images/white_light.gif" width="43" height="16" />
    						CẬP NHẬT SỐ LIỆU CẬN LÂM SÀNG
    					</td>
    					<td valign="top">
    					<table cellspacing="0" cellpadding="0" width="100%" >
    						<tr>
    							<td style="font-family: Arial; font-size: 12px; color: white; text-align: right; padding-right: 15px; padding-bottom: 2px; height: 25px; border-bottom: solid 1px #97989a;" valign="bottom" >
    								&#160;
    							</td>
    						</tr>
    					</table> 
    					</td>
    				</tr>
    			</table>			
    		</td>    		    	
    	</tr>    
    	<tr>
    		<td width="13px" height="12px" class="mytdl">    			
    		</td>
    		<td style="background-color: #c9daea;" width="965px" height="12px" >       			   			 		 		 		 	
    		</td>
    		<td width="11px" height="12px" class="mytdr">    			
    		</td>
    	</tr>
    			<tr style=" height : 5px;">
    		<td width="100%" style="background-color: #c9daea; padding-top: 0px; padding-bottom: 0px" colspan="3" align="center">  
    		      	<a4j:outputPanel id="message_infor">
       					 <h:messages	styleClass="mynull"/>
					</a4j:outputPanel>
    		</td>    		
    	</tr>
    	<tr>
    		<td colspan="3" style="background-color: #c9daea; padding-top: 0px; padding-bottom: 5px" width="100%" >
    			<!-- Main Area -->    		
    			<table cellspacing="0" cellpadding="0" border="0" width="97%" align="center">
    				
    				<tr style="height: 25px;">
    					<td align="right"> 
    					    <h:inputText tabindex="1" value="#{B3121_Canlamsangdieutri.maPhieu}"  id="__maphieu" name="_maphieu" style=" width : 95px; display: none;" styleClass="myinput">
    							<a4j:support oncomplete="onCompleteGetInfor();"  event="onblur" 
    							onsubmit="if (! checkEmpty(prefix_component + '__maphieu')) { return false; } "
    							focus="__ghinhan" action="#{B3121_Canlamsangdieutri.displayInforMaPhieu}" 
	    							reRender="__ghinhan,__maphieu,__sobenhan,dataTable_NHAPCT,listKetqua,DT_DM_NHAN_VIEN_MA_1,DT_DM_NHAN_VIEN_MA_2,message_infor,_sobenhan,__hoten,__ngaysinh,__gioitinh,__donViTuoiHid,TINH_MA,HUYEN_MA,XA_MA,__sonha,__madantoc,__bhyt1,__bhyt2,__bhyt3,__bhyt4,__bhyt5,__tuyen,__mabacsi,DM_KHOA_MA,__tuoi,__loai,DTDMKYTHUAT_MA,__mien,__yc,__ktc,__soluong,donGiaHid,__dongia"/>
    						</h:inputText> 
    						<h:outputText value="Khoa" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>    				
    					</td>
    					<td align="left" colspan="3">    						
    						<h:inputHidden id="DM_KHOA_MA_pk" value=""/>
    						<h:inputText value="#{B3121_Canlamsangdieutri.maKhoa}" tabindex="3" onblur="myOnblurTextbox(this.id,'DM_KHOA')" id="DM_KHOA_MA" style="width: 30px;" styleClass="myinput"/>
	    					
	    					<input tabindex="4" id="DM_KHOA" name="DM_KHOA" style="width: 200px;" class="mycbogear"/> 
	    					
	    					<h:outputText value="*" styleClass="mynull" />
    					    					
	    					<h:outputText value="Số bệnh án" styleClass="mytext" style="margin-left: 93px; margin-right: 5px"/>
    						    					
    						<h:inputText maxlength="17" tabindex="5" value="#{B3121_Canlamsangdieutri.hoSoBenhAn.hsbaSovaovien}" id="__sobenhan" name="_sobenhan" style=" width : 140px;" styleClass="myinput">
    							<a4j:support oncomplete="highlightOnFocus();onCompleteGetInfor();"  
    							onsubmit="if (! checkEmpty(prefix_component + '__sobenhan')) { return false; } "
    							event="onblur" focus="DTDMKYTHUAT_MA" action="#{B3121_Canlamsangdieutri.displayInfor}" 
    							reRender="__ngayvv,__ghinhan,__tamung,__sodu,__DM_DAN_TOC,__maphieu,__sobenhan,dataTable_NHAPCT,listKetqua,DT_DM_NHAN_VIEN_MA_1,DT_DM_NHAN_VIEN_MA_2,message_infor,_sobenhan,__hoten,__ngaysinh,__gioitinh,__donViTuoiHid,TINH_MA,HUYEN_MA,XA_MA,__sonha,__madantoc,__bhyt1,__bhyt2,__bhyt3,__bhyt4,__bhyt5,__tuyen,__mabacsi,DM_KHOA_MA,__tuoi,__loai,DTDMKYTHUAT_MA,__mien,__yc,__ktc,__soluong,donGiaHid,__dongia,__dichVu,__kthu,__ktc_hid,__ndm_hid,__mien_hid,DM_DOI_TUONG_MA,__hidBatDauBh,__hidHetHanBh"/>
    						</h:inputText>
    						<h:outputText value="*" styleClass="mynull" /> 
    						<span id="DM_KHOA_span"/>   					
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right" > 
    						<h:outputText value="Họ tên" styleClass="mytext" style="margin-left: 5px; margin-right: 5px"/>
    						
    					</td>
    					<td  align="left" colspan="3">
    						<table cellspacing="0" cellpadding="0" border="0" width="100%">
	    					<tr>
	    					<td align="left" width="30%">
	    						<h:inputText  readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.benhNhan.benhnhanHoten}" id="__hoten" name="_hoten" style="float: left; width : 183px;" styleClass="myinput"/>
	    					</td>
	    					<td align="left" width="26%">
	    						<h:outputText value="Giới tính" styleClass="mytext" style="float: left; padding-top:3px; margin-left: 05px; margin-right: 0px;"/>
	    						<h:selectOneRadio disabled="true" readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.gioi}" id="__gioitinh">
						        	<f:selectItem id="__namItems" itemValue="r1" itemLabel="Nam" styleClass="mycheck"   />					    
						        	<f:selectItem id="__nuItems" itemValue="r2" itemLabel="Nữ" styleClass="mycheck" />
						    	</h:selectOneRadio>
	    					</td>
	    					<td align="left">
		    					<h:outputText value="Tuổi" styleClass="mytext" style=" margin-left: 4px; margin-right: 5px;"/>
	    						<h:inputText readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.benhNhan.benhnhanTuoi}" id="__tuoi" name="_tuoi" style="margin-left: 0px; margin-right: 3px; width : 39px;" styleClass="myreadonly"/>
	    						
	    						<h:outputText value="(Năm)" id="__donViTuoi" styleClass="mytext" style="margin-left: 5px;margin-right: 5px;"/> 		
	    						<h:inputHidden id = "__donViTuoiHid" value = "#{B3121_Canlamsangdieutri.benhNhan.benhnhanDonvituoi}"/>
	    						
	    						<h:inputText readonly="true" value="#{B3121_Canlamsangdieutri.ngaySinh}" onkeydown="return disabledBackSpace();" onblur="return is_wellformed_Date(this.value)" type="text" id="__ngaysinh" name="_ngaysinh" maxlength="10" style=" width : 70px;" styleClass="myreadonly"/><a hideFocus="true" href="javascript:void(0)"  ><h:graphicImage value="/resources/calendar/cal.gif" style="margin:0 0 -3px 0" border="0" name="popcal"/></a>	
	    						</td>
	    				</tr>
	    			</table>
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right"> 
    						<h:outputText value="Địa chỉ" styleClass="mytext" style="margin-left: 5px; margin-right: 5px"/>    					
    					</td>
    					<td  align="left" colspan="3">
    					<h:inputText  readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.benhNhan.tinhMa.dmtinhMa}" id="TINH_MA" name="_TINH_MA" style=" width : 30px" styleClass="myreadonly"  maxlength="10" />
    					
    					<input readonly="true" onkeydown="return disabledBackSpace();" id="DM_TINH" name="DM_TINH" class="myreadonly" style="width: 150px;margin-right:3px;"/>
    					<h:inputText readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.benhNhan.huyenMa.dmhuyenMa}" id="HUYEN_MA" name="_HUYEN_MA" style=" width : 43px" styleClass="myreadonly" onblur="myOnblurTextboxJSF_Huyen_Xa(this.id,'DM_HUYEN', 'TINH_MA')" maxlength="10"/>
    					
    					<input readonly="true" onkeydown="return disabledBackSpace();" class="myreadonly" id="DM_HUYEN" name="DM_HUYEN"  style="width: 162px;"/>
    						
    					 	
    					<!-- from -->
    										
    					<h:inputText  readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.benhNhan.xaMa.dmxaMa}" id="XA_MA" name="_XA_MA" style=" width : 60px" styleClass="myreadonly" onblur="myOnblurTextboxJSF_Huyen_Xa(this.id, 'DM_XA', 'HUYEN_MA')" maxlength="10" />
    					
    					<input readonly="true" onkeydown="return disabledBackSpace();" id="DM_XA" name="DM_XA" class="myreadonly" style="width: 169px;"/>
    					<span id="DM_TINH_span"/> 	
    					<span id="DM_HUYEN_span"/>
    					<span id="DM_XA_span"/>	
    					<!-- to-->
    					
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right"> 
    						
    					</td>
    					<td align="left" colspan="3">
	    					<h:inputText readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.benhNhan.benhnhanDiachi}" id="__sonha" name="_sonha" style=" width : 400px;" styleClass="myreadonly" />
    					
    					<h:outputText value="Dân tộc" styleClass="mytext" style="margin-left: 20px; margin-right: 5px"/>    					
    						<h:inputText  readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.benhNhan.getDantocMa(true).dmdantocMa}" id="__madantoc" name="_madantoc" style="margin-left: 2px;width: 30px;" styleClass="myinput"/>
    						<h:inputText  readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.benhNhan.getDantocMa(true).dmdantocTen}" id="__DM_DAN_TOC" name="DM_DAN_TOC" style="margin-left: 2px;width: 133px;" styleClass="myinput"/>
    						
    						
    					
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right" >
    						<h:outputText value="BHYT" styleClass="mytext" style="margin-left: 5px; margin-right: 5px"/>    						
    					</td>
    					<td align="left" colspan="3">    						
    						<h:inputText readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.hsbaBHYT.getHsbabhytTinhbh(true).dmtinhBHYT}"  id="__bhyt1" name="_bhyt1" style=" width : 30px;" styleClass="myreadonly"/>&#160;
    						<h:inputText readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.hsbaBHYT.getHsbabhytTinhbh(true).dmtinhTen}"  id="__bhyt2" name="_bhyt2" style="width: 110px;" styleClass="myreadonly"/>&#160;
    						<h:inputText readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.hsbaBHYT.getHsbabhytMakcb(true).dmbenhvienMa}" id="__bhyt3" name="_bhyt3" style="width: 57px;" styleClass="myreadonly"/>&#160;
    						<h:inputText readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.hsbaBHYT.hsbabhytSothebh}"  id="__bhyt4" name="_bhyt4" style="width: 130px;" styleClass="myreadonly"/>&#160;
    						<h:inputText readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.hsbaBHYT.getHsbabhytKhoibh(true).dtdmkhoibhytTen}"  id="__bhyt5" name="_bhyt5" style=" width : 290px;" styleClass="myreadonly"/>    					
    						<h:inputHidden value="#{B3121_Canlamsangdieutri.ngayVv}" id="__ngayvv" name="_ngayvv"/>
    					</td>
    				</tr>
    				<tr style="height: 25px;display:none;">
    					<td align="right"> 
    						<h:outputText value="Tuyến" styleClass="mytext" style="margin-left: 5px; margin-right: 5px"/>    						
    					</td>
    					<td align="left" colspan="3">
    						<h:inputText readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.hsbaBHYT.hsbabhytTuyen}"  id="__tuyen" name="_tuyen" style=" width : 30px;" styleClass="myreadonly"/>
    						<h:outputText value="Tạm ứng" styleClass="mytext" style="margin-left: 29px; margin-right: 5px"/>
    						<h:inputText readonly="true" onkeydown="return disabledBackSpace();"  value="#{B3121_Canlamsangdieutri.tienTamUng}"  id="__tamung" name="_tamung" style=" width : 115px;" styleClass="myreadonlyso">
    						<f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" />
    						</h:inputText>
    						<h:outputText value="Số dư" styleClass="mytext" style="margin-right: 5px; margin-left: 11px;"/>
    						<h:inputText readonly="true" onkeydown="return disabledBackSpace();" value="#{B3121_Canlamsangdieutri.tienSoDu}"  id="__sodu" name="_sodu" style="width: 118px;" styleClass="myreadonlyso">
    						<f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" />
    						</h:inputText>    						   					
    					</td>
    				</tr>
    				<tr style="height: 25px;display: none;">
    					<td align="right"> 
    						<h:outputText  value="Bác sĩ" styleClass="mytext" style="margin-right: 5px; margin-left: 35px;"/>    						
    					</td>
    					<td  align="left" colspan="3">    					
    						<h:inputHidden id="__mabacsi_pk" value="#{B3121_Canlamsangdieutri.clsMo.clsmoBacsi.dtdmnhanvienMaso}"/>
    						<h:inputText  value="#{B3121_Canlamsangdieutri.clsMo.clsmoBacsi.dtdmnhanvienMa}" 
    						id="DT_DM_NHAN_VIEN_MA_1" name="DT_DM_NHAN_VIEN_MA_1" tabindex="6"  style=" width : 50px" styleClass="myreadonly"
    						onblur="myOnblurTextbox(this.id,'DT_DM_NHAN_VIEN__1')" maxlength="10" />
    						<span id="DT_DM_NHAN_VIEN_span1"/>
    						<input id="DT_DM_NHAN_VIEN__1"  tabindex="7" class="myreadonly" name="DT_DM_NHAN_VIEN"  style="width: 175px;"/>    					
    						<h:outputText  value="Thực hiện" styleClass="mytext" style="margin-left: 111px; margin-right: 5px"/>    					
    						<h:inputHidden  id="DT_DM_NHAN_VIEN_MA_2_pk" value="#{B3121_Canlamsangdieutri.nhanVienThucHien.dtdmnhanvienMaso}"/>
    						<h:inputText   tabindex="8"  value="#{B3121_Canlamsangdieutri.nhanVienThucHien.dtdmnhanvienMa}" 
    						id="DT_DM_NHAN_VIEN_MA_2" name="DT_DM_NHAN_VIEN_MA_2" style=" width : 60px" styleClass="myreadonly"
    						onblur="myOnblurTextbox(this.id,'DT_DM_NHAN_VIEN__2')" maxlength="10" />
	    					<span id="DT_DM_NHAN_VIEN_span2"/>
    						<input  tabindex="9"  id="DT_DM_NHAN_VIEN__2" class="myreadonly" name="DT_DM_NHAN_VIEN"  style="width: 168px;"/>    						
    						
    					</td>
    				</tr>
    			</table>					
    		</td>
    	</tr>	
    	<tr>
    		<td colspan="3" style="background-color: white; padding-top: 5px; padding-bottom: 5px;" width="100%" align="center">
    		 	<table cellspacing="0" cellpadding="0" border="0" width = "97%" >
    					<tbody>
    						<tr>
    							<td align="right"  width="12%">
    								<h:outputText value="Khoa CLS" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
    							</td>
		    					<td align="left" >
		    						<h:inputHidden id="DM_KHOA1_MA_pk" value="#{B3121_Canlamsangdieutri.maSoKhoaCLS}"/>
    								<h:inputText value="#{B3121_Canlamsangdieutri.maKhoaCLS}" tabindex="6" onblur="myOnblurTextbox(this.id,'DM_KHOA__1')" id="DM_KHOA1_MA" name="DM_KHOA1_MA" style="width: 30px;" styleClass="myinput"/>
	    							
	    							<input tabindex="7" id="DM_KHOA__1" name="DM_KHOA__1" style="width: 200px;" class="mycbogear"/> 
			    					<a4j:commandButton  onclick="" 
		    					tabindex="8" id="__displayCLS" name="__displayCLS" action="#{B3121_Canlamsangdieutri.displayCLS}" 
		    					oncomplete="" 
		    					reRender="__ghinhan,__mien_hid,__ndm_hid,__dichVu,__ktc_hid,__loai,DT_DM_CLS_BANG_GIA_MA,__mien,__ndm,__yc,__ktc,__kthu,__soluong,__dongia,dataTable_NHAPCT,dataTable_CLSChoose,dataTable_CLSChoose2"  value="+" style="width: 20px;height:19px; margin-bottom:1px; margin-left: 3px" styleClass="mybton_add"/>	
			    				<span id="DM_KHOA1_span"/>
		    					</td>
    						</tr>
    						<tr id="khoaCDHA" style="display: none;">
                                    <td align="right" width="12%">
                                        <h:outputText value="CĐHA" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
                                    </td>
                                    <td align="left">
                                        <h:selectOneMenu value="#{B121_2_Canlamsangphauthuat.khoaCDHA}">
                                            <f:selectItem itemLabel="Siêu âm" itemValue="SA"/>
                                            <f:selectItem itemLabel="Nội soi" itemValue="NS"/>
                                            <f:selectItem itemLabel="CT" itemValue="CT"/>
                                            <f:selectItem itemLabel="X Quang" itemValue="XQ"/>
                                        </h:selectOneMenu>
                                    </td>
                                </tr>
    					</tbody>
    			</table>	
    			<br/>	
    		    <table cellspacing="0" cellpadding="0" border="0" width = "100%">
    					<tbody>
    						<tr>
    						<td >
	    					<div style="overflow-x: hidden; overflow-y: scroll; height: 200px;width: 350px; border: solid 1px #7a9dba; background-color: #fff" align="center" id="listChoose">
	    						<rich:dataTable id="dataTable_CLSChoose" value="#{B3121_Canlamsangdieutri.listCtkq_B3121_1}" var="currentRow" width="290px" rendered="#{B3121_Canlamsangdieutri.listCtkq_B3121_1.size>=0}" bgcolor="#cccccc">
		                        	<rich:column style="width:250px;" id="column_CLSChoose" align="left" >	                        	
		                            	<h:outputText id="outputText261" value="#{currentRow.clsmoMahang.dtdmclsbgDiengiai}"/>                 
		                        	</rich:column>
		                        	<rich:column style="width:30px;" id="column_Choose" align="center">  
	                        	    	<input type="checkbox" name="checkboxclschoose" value="#{currentRow.clsmoMahang.dtdmclsbgMaso}" />   	
       						    	</rich:column> 
		                         </rich:dataTable>
	    					</div>
	    					</td>
	    					<td >
	    					<div style="overflow-x: hidden;overflow-y: scroll; height: 200px;width: 350px; border: solid 1px #7a9dba; background-color: #fff;" align="center" id="listChoose2">
	    						<rich:dataTable id="dataTable_CLSChoose2" value="#{B3121_Canlamsangdieutri.listCtkq_B3121_2}" var="currentRow" width="290px" rendered="#{B3121_Canlamsangdieutri.listCtkq_B3121_2.size>=0}" bgcolor="#cccccc">
		                        	<rich:column style="width:250px;" id="column_CLSChoose2" align="left" >	                        	
		                            	<h:outputText id="outputText2612" value="#{currentRow.clsmoMahang.dtdmclsbgDiengiai}"/>                 
		                        	</rich:column>
		                        	<rich:column style="width:30px;" id="column_Choose2" align="center">  
	                        	    	<input type="checkbox" name="checkboxclschoose" value="#{currentRow.clsmoMahang.dtdmclsbgMaso}" /> 	
       						    	</rich:column> 
		                         </rich:dataTable>
	    					</div>
	    					</td>	  
	    					 
	    					<td valign="bottom" style="padding-right: 10px">
	    					<h:inputHidden id="listCLSChecked" value="#{B3121_Canlamsangdieutri.listCLSChoose}" />
								<a4j:commandButton  onclick="if(!onSubmitTmp1()){this.alt = 0;  return false;}; if (! addListCls()) { return false; }; disableGhinhan(prefix_component + '__getCLSChooseValue') "
    					tabindex="9" id="__getCLSChooseValue" name="__getCLSChooseValue" action="#{B3121_Canlamsangdieutri.addListCLSChoose}" 
    					oncomplete="changeCursorDefault();enableGhinhan(prefix_component + '__getCLSChooseValue');this.alt = 0;"  
    					reRender="__ghinhan,__mien_hid,__ndm_hid,__dichVu,__ktc_hid,__loai,DT_DM_CLS_BANG_GIA_MA,__mien,__ndm,__yc,__ktc,__kthu,__soluong,__dongia,dataTable_NHAPCT,dataTable_CLSChoose,dataTable_CLSChoose2"  value="+" style="width: 20px;height:19px; margin-bottom:1px; margin-left: 3px" styleClass="mybton_add"/>
	    					</td>					
    					</tr>
    					</tbody>
    					</table>
    			<!-- Detail Area -->
    			<table cellspacing="0" cellpadding="0" border="0" width="100%">
	    			<tr style="height: 25px;">
	    				<td align="left" style="padding-left:67px" >
	    					<h:outputText value="Loại" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>	    				
	    					<h:inputText value="#{B3121_Canlamsangdieutri.loai}" maxlength="2" tabindex="10" id="__loai" name="_loai" style="width: 30px; " styleClass="myreadonly" readonly="true"/>
    						<h:outputText value="CLS, PT, TT" styleClass="mytext" style="margin-right: 5px; margin-left: 22px;"/>
	    					
	    					<h:inputHidden id="DTDMKYTHUAT_MA_pk" value="#{B3121_Canlamsangdieutri.maSoCLS}"/>
	    					<h:inputText value="#{B3121_Canlamsangdieutri.maCLS}" tabindex="11" styleClass="myinput" id="DTDMKYTHUAT_MA" name="DT_DM_KY_THUAT_MA" style=" width : 60px; margin-right: 0px" onblur="myOnblurTextboxForDtDmKyThuat(this.id,'DT_DM_CLS_BANG_GIA',document.getElementById(prefix_component + '__loai').value);setPriceForKT();" maxlength="10" />
    						
    						<input tabindex="12"   alt="getDtDmClsBangGia_Search('DT_DM_CLS_BANG_GIA',prefix_component + '__loai')"  id="DT_DM_CLS_BANG_GIA" name="DT_DM_CLS_BANG_GIA" style="width: 439px;"/>	
    					    
    					    <h:inputHidden value="#{B3121_Canlamsangdieutri.tenCLS}" id="__tem" name="_tem" style="width: 200px;"/>
    					    <span id="DT_DM_CLS_BANG_GIA_span"/>							
    					</td>
	    			</tr>
	    			<tr style="height: 25px;">
	    				<td align="left" style="padding-left:49px" >
	    					<h:outputText value="Ghi chú" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>	    				
	    					<h:inputText value="#{B3121_Canlamsangdieutri.ghiChu}" tabindex="13	" id="__ghichu" name="_ghichu" style="width: 495px; " styleClass="myinput" maxlength="512"/>
	    					<h:outputText  value="Ngày" styleClass="mytext" style="margin-left: 7px; margin-right: 5px"/>
	    					<h:inputText value="#{B3121_Canlamsangdieutri.ngayTt}" onkeypress="return being_wellformed_Date(this, event)" 
	    					onblur='if(this.className.match(/focus/gi))    this.className = this.className.replace(/focus/gi,""); return is_wellformed_Date(this);'  
	    						tabindex="14" type="text" id="__ngay" name="_ngay" maxlength="10" style=" width : 70px;" class="myinput"/>
	    						
	    						<a hideFocus="true" href="javascript:void(0)" onclick="if(self.gfPop)gfPop.fPopCalendar(document.getElementById(prefix_component + '__ngay'));return false;" ><h:graphicImage value="/resources/calendar/cal.gif" style="margin:0 0 -3px 0" border="0" name="popcal"/></a>							
    					</td>
	    			</tr>
	    			
	    			<tr style="height: 25px;">
	    				<td align="left" style="padding-left:15px;padding-bottom: 10px">
		    				<h:outputText value="Dịch vụ" styleClass="mytext" style="margin-left: 42px"/>
    						
	    					<h:selectBooleanCheckbox onclick="setCheckForDichVu();"  
	    					title="Dịch vụ" label="Dịch vụ" 
	    					id="__dichVu"  value="#{B3121_Canlamsangdieutri.dichVu}"   tabindex="15">
       						</h:selectBooleanCheckbox>
       						
	    					<h:outputText value="Miễn" styleClass="mytext" style="margin-left:10px;" />
    					
	    					<h:selectBooleanCheckbox disabled="true" title="Miễn" label="Miễn" id="__mien"  value="#{B3121_Canlamsangdieutri.mien}" >
       						</h:selectBooleanCheckbox>
       						
       						<h:outputText value="NDM" styleClass="mytext" style="margin-left: 10px"/>
    						
	    					<h:selectBooleanCheckbox  disabled="true" title="NDM" label="NDM" id="__ndm" >
       						</h:selectBooleanCheckbox>
    							  						    					
    						<h:outputText value="YC" styleClass="mytext" style="margin-left: 10px;"/>   		
    						
    						<h:selectBooleanCheckbox title="YC" label="YC" id="__yc" onclick="checkDonGia(this);" onblur="setValueForSoLuong();" value="#{B3121_Canlamsangdieutri.yeuCau}" tabindex="16">
       						</h:selectBooleanCheckbox>  
       						
       						<h:outputText value="KTC" styleClass="mytext" style="margin-left: 10px"/>   		
    						
    						<h:selectBooleanCheckbox disabled="true" title="KTC" label="KTC" id="__ktc"  value="" >
       						</h:selectBooleanCheckbox> 		
       						<h:outputText value="Không thu" styleClass="mytext" style="margin-left: 10px"/>  
    						<h:selectBooleanCheckbox title="Không thu" label="Không thu" id="__kthu" onclick="setOtherValueForGetFromServer();" onblur="setValueForSoLuong();" value="#{B3121_Canlamsangdieutri.khongthu}" tabindex="17">
       						</h:selectBooleanCheckbox>
    						<h:outputText value="Số lượng" styleClass="mytext" style="margin-right: 5px; margin-left:47px"/>
    						<h:inputText maxlength="4" onkeypress="iesvn_InputInKeys('1234567890');" 
    						value="#{B3121_Canlamsangdieutri.soLuong}" onblur='if(this.className.match(/focus/gi))    this.className = this.className.replace(/focus/gi,"");' 
    							styleClass="myinputso" tabindex="17" id="__soluong" name="_soluong" style="width: 50px;" />
    						
    						<h:outputText value="Đơn giá" styleClass="mytext" style="margin-right: 5px; margin-left:18px"/>
    						
    						<h:inputText readonly="true" onkeypress="iesvn_InputInKeys('1234567890.');" value="#{B3121_Canlamsangdieutri.donGia}" styleClass="myreadonlyso" id="donGiaHid" name="_dongia" style=" width : 70px;">
    						<f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" />
    						</h:inputText>
    						<h:outputText value="VNĐ" styleClass="mytext" style="margin-right: 5px; margin-left:3px"/>    						
    						
    						<a4j:commandButton focus="DTDMKYTHUAT_MA" tabindex="18" 
    						 
    						id="__themchinhsau" name="_themchinhsau" action="#{B3121_Canlamsangdieutri.enter}" 
    						oncomplete="this.alt = 0;changeCursorDefault();highlightOnFocus(); reloadValueForCombobox(); enableGhinhan(prefix_component + '__themchinhsau');" 
    						reRender="__ghinhan,__maphieu,__sobenhan,dataTable_NHAPCT,listKetqua,DT_DM_NHAN_VIEN_MA_1,DT_DM_NHAN_VIEN_MA_2,message_infor,_sobenhan,__hoten,__ngaysinh,__gioitinh,TINH_MA,HUYEN_MA,XA_MA,__sonha,__madantoc,__bhyt1,__bhyt2,__bhyt3,__bhyt4,__bhyt5,__tuyen,__mabacsi,DM_KHOA_MA,__tuoi,__loai,DTDMKYTHUAT_MA,__mien,__yc,__ktc,__soluong,donGiaHid,__dongia,__dichVu,__kthu,__ktc_hid,__ndm_hid,__mien_hid,__ghichu" 
    						onclick="checkSoluong(); if (! checkNgay()) { this.alt = 0; return false; } if(!onSubmitTmp1()){return false;} ;disableGhinhan(prefix_component + '__themchinhsau') " value="" style="width: 20px; height: 19px" styleClass="mybton_add"/>
    						    						
    						<h:inputHidden id="__dongia" value="#{B3121_Canlamsangdieutri.donGia}"/>    						
    						<h:inputHidden id="__ktc_hid" value="#{B3121_Canlamsangdieutri.kyThuatCao}"/>   
       						<h:inputHidden id="__ndm_hid" value="#{B3121_Canlamsangdieutri.ngoaiDanhMuc}"/>  
       						<h:inputHidden id="__mien_hid" value="#{B3121_Canlamsangdieutri.mien}"/>          						
       						
	    				</td>
	    			</tr>
	    	  </table>   
	    	  <table cellspacing="0" cellpadding="0" border="0" width="93%" style="border: solid 1px #7a9dba;">
    	  		
    	  		<tr>
					<td >
    					<div style="overflow-x: scroll;overflow-y: scroll; height: 150px;width: 100%;" id="listKetqua">
    						<rich:dataTable headerClass="mycol" id="dataTable_NHAPCT" rowClasses="myrow1,myrow2"
	                          styleClass="myTable" value="#{listCtkq_B3121}" var="currentRow" width="100%" rendered="#{listCtkq_B3121.rowCount>=0}" bgcolor="#cccccc">
	                        <rich:column style="width: 18px;" id="column_STT" >	
	                            <f:facet name="header"><h:outputText value="STT"/></f:facet>                        	
	                            <h:outputText id="outputText26" value="#{listCtkq_B3121.rowIndex + 1}"/>                 
	                        </rich:column>
	                        <rich:column id="column_loai" style="width: 27px;">	
	                            <f:facet name="header"><h:outputText value="Loại"/></f:facet>                        	
                                <h:outputText id="loai_table" value="#{currentRow.clsmoLoai}" />
	                        </rich:column>
	                        <rich:column id="column_maso" style="width: 63px;">
	                             <f:facet name="header"><h:outputText value="Mã số"/></f:facet>  	                                                                         
	                            <h:outputText id="maso_table" value="#{currentRow.clsmoMahang.dtdmclsbgMa}" />          
	                        </rich:column>
	                        
	                        <rich:column id="column_diengiai" style="width: 237px;text-align:left;">  
	                        		<f:facet name="header"><h:outputText value="Tên CLS, PT, TT"/></f:facet>
							    	 <h:outputText rendered="#{'true' == currentRow.clsmoDatt}" id="diengiai_table" value="#{currentRow.clsmoMahang.dtdmclsbgDiengiai}" />   
							   
							 
							    	<a4j:commandLink rendered="#{currentRow.clsmoDatt == null || currentRow.clsmoDatt == false}" id="diengiai_table2" style="text-align:left;" oncomplete="reloadValueForCombobox();setClsFocus();" action="#{B3121_Canlamsangdieutri.nhapctAjax(listCtkq_B3121.rowIndex)}" value="#{currentRow.clsmoMahang.dtdmclsbgDiengiai}" reRender="dataTable_NHAPCT,__loai,DTDMKYTHUAT_MA,DM_KHOA_MA,__mien,__ndm,__yc,__ktc,__soluong,__dongia,donGiaHid,__dichVu,__kthu,__ktc_hid,__ndm_hid,__mien_hid,__ghichu,DT_DM_NHAN_VIEN_MA_1,DT_DM_NHAN_VIEN_MA_2,__ngay"/>              	                                  
	          			    
	          			      </rich:column>
	          			      <rich:column id="column_ngaycls" style="width: 10%;" align="left" > 
	          			         <f:facet name="header"><h:outputText value="Ngày"/></f:facet> 	                        	                                             
	                             <h:outputText id="ngaycls_table" value="#{B3121_Canlamsangdieutri.showDate(currentRow.clsmoNgay)}" />          
	                        </rich:column>	   
	          			      <rich:column id="column_khoacls" style="width: 5%;" align="left" >
	          			         <f:facet name="header"><h:outputText value="Khoa CLS"/></f:facet>  	                        	                                             
	                             <h:outputText id="khoacls_table" value="#{currentRow.clsmoKhoa.dmkhoaMa}" />          
	                        </rich:column>
	                        <rich:column id="column_thcls" style="width: 10%;" align="left" > 
	                            <f:facet name="header"><h:outputText value="Thực hiện"/></f:facet>  	   
	                        	<a4j:commandLink id="thcls_table"  onclick="popup('#{facesContext.externalContext.requestContextPath}/B3_Vienphi/TaiKhoa/B3121_Canlamsang_ketquacls.seam','#{currentRow.clsmoMa}','#{listCtkq_B3121.rowIndex}')" >  
                                	 <h:outputText id="thcls_table_output" value="#{currentRow.clsmoTh != null &amp;&amp; currentRow.clsmoTh==true?'Đã TH':'Chưa TH'}" />
                               	</a4j:commandLink>
	                        </rich:column>                    
	                        <rich:column id="column_mp" style="width: 27px;">
	                        <f:facet name="header"><h:outputText value="MP"/></f:facet>  	                        	                                                  
	                            <h:outputText id="mp_table" value="#{currentRow.clsmoMien==true?'x':''}" />          
	                        </rich:column>	                        
	                        <rich:column id="column_yc" style="width: 27px;">
	                            <f:facet name="header"><h:outputText value="YC"/></f:facet>   	                        	                                                  
	                            <h:outputText id="yc_table" value="#{currentRow.clsmoYeucau==true?'x':''}" />          
	                        </rich:column>	                       
	                        <rich:column id="column_soluong" style="width: 27px;">  
	                            <f:facet name="header"><h:outputText value="SL"/></f:facet>	                        	                                                 
	                            <h:outputText id="soluong_table" value="#{currentRow.clsmoLan}" />          
	                        </rich:column>
	                        <rich:column id="column_dongia" style="width: 78px;text-align:right;">
	                            <f:facet name="header"><h:outputText value="Đơn giá"/></f:facet>  	                        	                                                
	                            <h:outputText id="dongia" value="#{currentRow.clsmoDongia}" ><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:outputText>          
	                        </rich:column>	                        
	                        	                        
	                        <rich:column>       							
       							<a4j:commandLink id="xoa" rendered="#{currentRow.clsmoDatt == null || currentRow.clsmoDatt == false}" action="#{B3121_Canlamsangdieutri.delete(listCtkq_B3121.rowIndex)}" reRender="dataTable_NHAPCT,__loai,DTDMKYTHUAT_MA,DM_KHOA_MA,__mien,__ndm,__yc,__ktc,__soluong,__dongia,donGiaHid,__dichVu,__kthu,__ktc_hid,__ndm_hid,__mien_hid,__ghichu" oncomplete="reloadValueForCombobox();setClsFocus();">  
                                	<h:graphicImage value="/images/icon_delete2.gif" style="width: 19px; height: 16px;cursor: hand;float:left">                                
                                	</h:graphicImage>
                                </a4j:commandLink>                                                               
							</rich:column>
	                    </rich:dataTable>
    				</div>
    			</td>
    		</tr> 	
    	</table> 	
    </td>
  </tr>
  <tr>
    <td colspan="3" align="center" style="padding-left:250px; background-color: white; padding-bottom:10px">
    
    	<div  style="float:left;">
    		
    			<a4j:commandButton tabindex="19" id="__ghinhan" name="_ghinhan" 
    			  
    			action="#{B3121_Canlamsangdieutri.ghinhan}" oncomplete="changeCursorDefault(); this.alt = 0; highlightOnFocus();onCompleteGetInfor();" 
    			reRender="__ngayvv,__tamung,__sodu,__DM_DAN_TOC,__maphieu,__sobenhan,dataTable_NHAPCT,listKetqua,DT_DM_NHAN_VIEN_MA_1,DT_DM_NHAN_VIEN_MA_2,message_infor,_sobenhan,__hoten,__ngaysinh,__gioitinh,__donViTuoiHid,TINH_MA,HUYEN_MA,XA_MA,__sonha,__madantoc,__bhyt1,__bhyt2,__bhyt3,__bhyt4,__bhyt5,__tuyen,__mabacsi,DM_KHOA_MA,__tuoi,__loai,DTDMKYTHUAT_MA,__mien,__yc,__ktc,__soluong,donGiaHid,__dongia,__dichVu,__kthu,__ktc_hid,__ndm_hid,__mien_hid" 
    			onclick="if (! onSubmitTmp()) { this.alt = 0; return false; }" value="Ghi nhận" style="width: 70px; margin-right: 3px; display: #{B3121_Canlamsangdieutri.checkThanhtoan}" styleClass="mybton_b"/>
    		
    	</div> 
    	<div  style="float:left;">
    		
    			<a4j:commandButton tabindex="20" id="__nhaplai" 
    			
    			focus="DM_KHOA_MA"
    			name="_nhaplai" action="#{B3121_Canlamsangdieutri.nhaplai}" 
    			oncomplete="highlightOnFocus();onCompleteGetInfor();" 
    			reRender="__ghinhan,__tamung,__sodu,__DM_DAN_TOC,__maphieu,__sobenhan,dataTable_NHAPCT,listKetqua,DT_DM_NHAN_VIEN_MA_1,DT_DM_NHAN_VIEN_MA_2,message_infor,_sobenhan,__hoten,__ngaysinh,__gioitinh,__donViTuoiHid,TINH_MA,HUYEN_MA,XA_MA,__sonha,__madantoc,__bhyt1,__bhyt2,__bhyt3,__bhyt4,__bhyt5,__tuyen,__mabacsi,DM_KHOA_MA,__tuoi,__loai,DTDMKYTHUAT_MA,__mien,__yc,__ktc,__soluong,donGiaHid,__dongia,__dichVu,__kthu,__ktc_hid,__ndm_hid,__mien_hid,__ghichu,DM_KHOA1_MA,DM_KHOA1_MA_pk,dataTable_CLSChoose,dataTable_CLSChoose2,__hidBatDauBh,__hidHetHanBh" value="Nhập mới" 
    			onclick="setCancel();" style="width: 70px; margin-right: 3px;" styleClass="mybton_b"/>
    		
    	</div>  
    	
    		 
    	
    	<div style="float:left;">
    	<a4j:commandButton tabindex="22" action="#{B3111_Thuocydungcusudung.init()}"  
    								onclick="if (! onSubmitTmp()) { return false; }"
    								id="__gocls" styleClass="mybton_b" value="Thuốc, Y dụng cụ" 
    								style="width: 120px; margin-right: 3px;" />
    	</div>
    	
    	<div  id="__divIn"  style="float:left;">
    		
    			<a4j:commandButton tabindex="22" id="__inphieu" name="__inphieu" 
    			
    			action="#{B3121_Canlamsangdieutri.thuchienAction}" oncomplete="highlightOnFocus();onCompleteGetInfor();this.alt = 0;" 
    			reRender="__ghinhan,__tamung,__sodu,__DM_DAN_TOC,__maphieu,__sobenhan,dataTable_NHAPCT,listKetqua,DT_DM_NHAN_VIEN_MA_1,DT_DM_NHAN_VIEN_MA_2,message_infor,_sobenhan,__hoten,__ngaysinh,__gioitinh,TINH_MA,HUYEN_MA,XA_MA,__sonha,__madantoc,__bhyt1,__bhyt2,__bhyt3,__bhyt4,__bhyt5,__tuyen,__mabacsi,DM_KHOA_MA,__tuoi,__loai,DTDMKYTHUAT_MA,__mien,__yc,__ktc,__soluong,donGiaHid,__dongia,__dichVu,__kthu,__ktc_hid,__ndm_hid,__mien_hid" value="In phiếu" onclick="if (! onSubmitTmp()) { return false; }" style="width: 70px;  margin-right: 3px;" styleClass="mybton_b"/>
    		
    	</div> 
    </td>
  </tr>
</table>
    
	<h:inputHidden id="hid_Gia" value=""/>
    <h:inputHidden id="hid_GiaBH" value="#{B3121_Canlamsangdieutri.donGiaBH}"/>
    <h:inputHidden id="hid_GiaYC" value=""/>
    <h:inputHidden id="hid_GiaMP" value=""/>
    <h:inputHidden id="hid_PhanDV" value="#{B3121_Canlamsangdieutri.phanDV}"/> 
    <h:inputHidden id="tenDmKyThuatHid" value="#{B3121_Canlamsangdieutri.tenCLS}" />
    						
    <h:inputHidden id="hid_ReportFinished" value="#{B3121_Canlamsangdieutri.reportFinished}"/>
    <h:inputHidden id="resultHidden" value="#{B3121_Canlamsangdieutri.resultHidden}"/>
     
    <h:inputHidden id="hid_ReportFileName" value="#{B3121_Canlamsangdieutri.reportFileNameHid}"/> 
    
 
    
    <h:inputHidden id="_hidFocusDochuyenTuManHinhThuocCLS" value= "#{B3121_Canlamsangdieutri.focusDochuyenTuManHinhThuocCLS}" />
    <h:inputHidden id="DM_DOI_TUONG_MA" value="#{B3121_Canlamsangdieutri.maDoituong}"/>
    <h:inputHidden id="__hidBatDauBh" value="#{B3121_Canlamsangdieutri.strNgayBatDauBh}"/>
    <h:inputHidden id="__hidHetHanBh" value="#{B3121_Canlamsangdieutri.strNgayHetHanBh}"/>
    
   
				
                <h:inputHidden id="makhoakhamout_hid" />
                <h:inputHidden id="sobenhanout_hid"/>
                <h:inputHidden id="maclsout_hid" value=""/>              
                <h:inputHidden id="giatrithuchien_hid" />
                <h:inputHidden id="rowindex_hid" value=""/>
                 <a4j:commandButton  style="display: none" id="refresh"
                                    onclick="popupwd.close();"
                                    action="#{B3121_Canlamsangdieutri.displayInforFromMenu()}"
                                    oncomplete="setValueFromKetQuaThucHienCLS();"
                                    />
                                    
                            
   </h:form>
   </body>
    <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/resources/gears/dieutri/vienphi/B3121_Canlamsang_gears.js"></script>
    <iframe width="174" height="189" name="gToday:normal:agenda.js" id="gToday:normal:agenda.js" src="#{facesContext.externalContext.requestContextPath}/resources/calendar/ipopeng.htm" scrolling="no" frameborder="0" style="visibility:visible; z-index:999; position:absolute; top:-500px; left:-500px;"/>
  
</ui:define> 
</ui:composition>


