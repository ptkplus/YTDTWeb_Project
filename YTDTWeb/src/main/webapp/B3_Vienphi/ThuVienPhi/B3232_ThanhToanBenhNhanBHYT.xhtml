<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
                xmlns:c="http://java.sun.com/jstl/core" 
                
                template="/layout/mytemplate.xhtml">



<ui:define name="body">	
<f:loadBundle basename="com.iesvn.yte.UIResources" var="msg" />
<script type="text/javascript">

function checkEmpty(id){
			if ( document.getElementById(id).value == null || document.getElementById(id).value == "" ){
			
				if(document.getElementById(id).className.match(/focus/gi))
              		document.getElementById(id).className = document.getElementById(id).className.replace(/focus/gi,"");
				return false;
			}
			return true;
		}
function enterToTab(){
			          	if((document.getElementById(prefix_component +"__ghinhan") == null || document.getElementById(prefix_component +"__ghinhan").alt != 1) &amp;&amp; 
			          	(document.getElementById(prefix_component +"__sualai") == null || document.getElementById(prefix_component +"__sualai").alt != 1) &amp;&amp; 
			          	(document.getElementById(prefix_component +"__inphieu") == null || document.getElementById(prefix_component +"__inphieu").alt != 1) 
			          	)
			           {
			                 if(window.event.keyCode == 13){
			                        window.event.keyCode = 9;
			                  }
			         	}
				} 
				
	var bCancel = false;
	var bSave = false;
	var isValidate = false;
	var tonkho = 0;
	
	function setSave() {
		bSave = true;
	}
	
	function onSubmitTmp(){
		setSave() ;
		return onSubmit(document.forms[0]);
	}
	
	function setCancel(){
		bCancel = true;
	}
	
	function onSubmit(form) {	
		//luuTruGiaTriClientDefault();
		if (bSave){
		    bSave = false;
			//var miengiam = document.getElementById(prefix_component + "__miengiam").value;
			//var thatthu = document.getElementById(prefix_component + "__thatthu").value;
			var thieuthuoc = document.getElementById(prefix_component + "__thieuthuoc").value;
			//var congkham = document.getElementById(prefix_component + "__congkham").value;
			
			//if(miengiam == ''){
			//	document.getElementById(prefix_component + "__miengiam").value = 0;
			//}
			//if(congkham == ''){
			//	congkham = 0;
			//	document.getElementById(prefix_component + "__congkham").value = 0;
			//}
			//if(thatthu == ''){
			//	document.getElementById(prefix_component + "__thatthu").value = 0;
			//}
			if(thieuthuoc == 1){
				alert('Thuốc tồn kho không đủ');
			}			
			var valid = iesvn_ValidateForm(form);			
			if(valid == true){
				//alert(1);
				//var thanhtienCt = document.getElementById(prefix_component + "__thanhtienCt").value;
				//if(miengiam == ''){
				//	miengiam = 0;
				//}
				//if(thatthu == ''){
				//	thatthu = 0;
				//}
				//if(thanhtienCt == ''){
				//	thanhtienCt = 0;
				//}
				//alert(2);
				//alert('thanhtienCt: ' + thanhtienCt +' congkham: ' + congkham +' thatthu: ' + thatthu + ' miengiam: ' + miengiam );
				//if(miengiam + thatthu > thanhtienCt + congkham){
				//	alert('Miễn giảm + Thất thu phải nhỏ hơn hoặc bằng tiền thuốc + Công khám');
				//	document.getElementById(prefix_component + '__miengiam').focus();
				//	//alert(3);	
				//	return false;		
				//}else{
				//	//alert(4);
				//	return true;
				//}
			}
			return valid;
		}
		return true;
	}
	
	function iesvn_FloatRange() {
		this.aa = new Array(prefix_component + "__xuat", 
				"<h:outputFormat value='#{msg.common_in_range}' > <f:param value='Số lượng xuất'/> <f:param value='1'/>  <f:param value='" + tonkho + "'/></h:outputFormat>", 
				new Function ("varName", " this.min='1'; this.max='" + tonkho + "'; return this[varName];"));
	}
	
	function iesvn_ValidateForm(form) {		
    		return iesvn_ValidateRequired(form);
	}
	
	function iesvn_Required() {
		this.aa = new Array(prefix_component + "__matiepdon", 
							"<h:outputFormat value='#{msg.common_requireField}'><f:param value='Mã tiếp đón' /></h:outputFormat>", 
							new Function ("varName",  "return this[varName];"));	
		//this.ab = new Array(prefix_component +  "DT_DM_NHAN_VIEN_MA", "<h:outputFormat value='#{msg.common_requireField}' > <f:param value='Thu ngân'/> </h:outputFormat>", new Function ("varName",  "return this[varName];"));
	}
	
	function iesvn_FloatValidations(){
		this.ab = new Array(prefix_component + '__miengiam', 
				"<h:outputFormat value='#{msg.common_float}'><f:param value='Miễn giảm' /></h:outputFormat>", 
				new Function ("varName",  "return this[varName];"));
	}
	
	function checkFocus(){
		//var thieuthuoc = document.getElementById(prefix_component + '__thieuthuoc').value;
		//var updateItem = document.getElementById(prefix_component + '__updateItem').value;
		//if(thieuthuoc == 1){
		//	document.getElementById(prefix_component +'__xuat').focus();
		//}
		//else{
			document.getElementById(prefix_component +'DM_THUOC_MA').focus();
			reloadValueForCombobox();
			myOnblurTextboxForDmThuoc(prefix_component + 'DM_THUOC_MA','DM_THUOC','','');
		//}
	}	
	
	function checkFocusTiepdon(){
		var tiepdonMa = document.getElementById(prefix_component + '__matiepdon').value;
		if(tiepdonMa == ''){
			//document.getElementById(prefix_component +'__matiepdon').focus();
		}
		else{
			if (document.getElementById(prefix_component + "nofoundTD").value == "true"){
				document.getElementById(prefix_component + "nofoundTD").value == "false";
				document.getElementById("DM_TINH").value="";
				document.getElementById("DM_HUYEN").value="";
				document.getElementById("DM_XA").value="";	
				document.getElementById("DM_DOI_TUONG").value="";
				document.getElementById(prefix_component +'__matiepdon').focus();
				return;
			}
			//document.getElementById(prefix_component +'DT_DM_NHAN_VIEN_MA').focus();
			myOnblurTextbox(prefix_component + "MA_DT", "DM_DOI_TUONG");
			myOnblurTextbox(prefix_component + "TINH_MA", "DM_TINH");
			myOnblurTextbox(prefix_component + "HUYEN_MA", "DM_HUYEN");
			myOnblurTextbox(prefix_component + "XA_MA", "DM_XA");
						
		}
	}
	
	function checkFocusSophieu(){
	    /*
		var sophieu = document.getElementById(prefix_component + '__sophieu').value;
		if(sophieu == ''){
			document.getElementById(prefix_component +'__sophieu').focus();
		}
		else{
			document.getElementById(prefix_component +'DT_DM_NHAN_VIEN_MA').focus();
		}
		*/
	}
	
	function computeSotienAndThanhtien(){
	    /*
		var miengiam = document.getElementById(prefix_component + "__miengiam").value;
		var thatthu = document.getElementById(prefix_component + "__thatthu").value;
		var congkham = document.getElementById(prefix_component + "__congkham").value;
		var thanhtienCt = document.getElementById(prefix_component + "__thanhtienCt").value;
		var perbenhnhan = document.getElementById(prefix_component + "__perbenhnhan").value;
		if(congkham == ''){
			congkham = 0;
		}
		if(miengiam == ''){
			miengiam = 0;
		}
		if(thatthu == ''){
			thatthu = 0;
		}
		if(perbenhnhan == '' || perbenhnhan == '0'){
			perbenhnhan = 1;
			document.getElementById(prefix_component + "__perbenhnhan").value = 1;
		}
		//alert('thanhtienCt: ' + thanhtienCt +' thatthu: ' + thatthu + ' miengiam: ' + miengiam +' congkham: ' + congkham);
		var thanhtien = thanhtienCt + congkham - miengiam - thatthu;
		document.getElementById(prefix_component + "__tongtien").value = thanhtien;
		var pxSotien = perbenhnhan * thanhtien;
		document.getElementById(prefix_component + "__sotien").value = pxSotien;
		*/
	}
		
	function onblurMienGiam(){
	/*
		var miengiam = document.getElementById(prefix_component + "__miengiam").value;
		var thatthu = document.getElementById(prefix_component + "__thatthu").value;		
		var thanhtienCt = document.getElementById(prefix_component + "__thanhtienCt").value;
		var congkham = document.getElementById(prefix_component + "__congkham").value;
		if(congkham == ''){
			congkham = 0;
		}
		if(miengiam == ''){
			miengiam = 0;
		}
		if(thatthu == ''){
			thatthu = 0;
		}
		if(thanhtienCt == ''){
			thanhtienCt = 0;
		}
		computeSotienAndThanhtien();
		*/	
	}
	
	function onblurThatThu(){
	  /*
		var miengiam = document.getElementById(prefix_component + "__miengiam").value;
		var thatthu = document.getElementById(prefix_component + "__thatthu").value;
		var thanhtienCt = document.getElementById(prefix_component + "__thanhtienCt").value;
		var congkham = document.getElementById(prefix_component + "__congkham").value;
		if(congkham == ''){
			congkham = 0;
		}
		if(miengiam == ''){
			miengiam = 0;
		}
		if(thatthu == ''){
			thatthu = 0;
		}
		if(thanhtienCt == ''){
			thanhtienCt = 0;
		}
		
			computeSotienAndThanhtien();
			var bienlai1 = document.getElementById(prefix_component + '__bienlai1').value;
			var bienlai2 = document.getElementById(prefix_component + '__bienlai2').value;
			var bienlai3 = document.getElementById(prefix_component + '__bienlai3').value;
			if(bienlai1 == ''){
				document.getElementById(prefix_component + '__bienlai1').focus();
			}
			else if(bienlai2 == ''){
				document.getElementById(prefix_component + '__bienlai2').focus();
			}
			else if(bienlai3 == ''){
				document.getElementById(prefix_component + '__bienlai3').focus();
			}
		*/
	}	
	
	function checkSaveResult(){
		var saveResult = document.getElementById(prefix_component + '__saveResult').value;
		if(saveResult == '1'){//luu thanh cong
			alert('Luu thanh cong');
			setValueOnLoad();
		}
		else{
			alert('Luu khong thanh cong');
		}
	}
	function myValidateDate(myThis){
		  var validatedate =  is_wellformed_Date(myThis);  
		  
		  return false;
		  
		}
	function checkTienBNTra(textbox) {			
		var nguonkhac = textbox.value;
		if(iesvn_Trim(nguonkhac) == '') {
			nguonkhac = "0";
			textbox.value = 0;
		}						
		var tmp = parseFloat(nguonkhac.replace(/,/g,""));
		var hid_nguonkhac = parseFloat(document.getElementById(prefix_component + "hid_nguonkhactra").value);
		var hid_benhnhan = parseFloat(document.getElementById(prefix_component + "hid_benhnhantra").value);
		//alert("tmp = " +  tmp + ", hid_benhnhan = " + hid_benhnhan + ", sub = " + (hid_benhnhan - tmp));
		var sub = hid_benhnhan - tmp;
		//alert("sub = " + sub + ", fix2 = " + sub.toFixed(2) + ", fix3 = " + sub.toFixed(3));
		if ((tmp - hid_benhnhan ) > 0) {
			alert("Số tiền nguồn khác trả không hợp lệ");
			textbox.value = hid_nguonkhac;
			document.getElementById(prefix_component + "__bntra").value = sub.toFixed(2);
			numberFormatBlur(textbox);	
			numberFormatBlur(document.getElementById(prefix_component + "__bntra"));			
		} else {
			document.getElementById(prefix_component + "__bntra").value = sub.toFixed(2);
			numberFormatBlur(document.getElementById(prefix_component + "__bntra"));
		}
	}
	function checkValidDot(textbox) {	
		var e = window.event;
		if(e.keyCode == 46) {
			if (textbox.value.indexOf(".") != -1) e.keyCode = 0;
		}
	}
</script>
<body onkeydown="enterToTab();">
<h:form id="_form" name="_form" onsubmit="return onSubmit(this);">
	<h:inputHidden id="__returnxuathangchobnbhyt" value="#{returnToThanhToanBNBHYT}"/>
	<h:inputHidden id="__goToThuocBHYT" value="#{goToThuocBNBHYT}"/>
	
	<h:inputHidden id="__thieuthuoc" value="#{B3232_ThanhToanBenhNhanBHYT.thieuthuoc}"/>
	
	<h:inputHidden id="__saveResult" value="#{B3232_ThanhToanBenhNhanBHYT.saveResult}"/>
	<h:inputHidden id="hid_ReportFinished" value="#{B3232_ThanhToanBenhNhanBHYT.reportFinished}"/>
    <h:inputHidden id="hid_ReportFileName" value="#{B3232_ThanhToanBenhNhanBHYT.reportFileName}"/>
    <h:inputHidden id="__tonkho" value=""/>
    <h:inputHidden  id="__tonkhoMa" value="#{B3232_ThanhToanBenhNhanBHYT.tonkhoMa}"  styleClass="myinput" />
    <h:inputHidden id="nosuccess" value="#{B3232_ThanhToanBenhNhanBHYT.nosuccess}"/>
    <h:inputHidden id="nofoundTD" value="#{B3232_ThanhToanBenhNhanBHYT.nofoundTD}"/>
    								
    <div style="width:778px; position:absolute; z-index:99">
    
	<ui:include src="/layout/mymenu_YTDT_VienPhi_ThuVienPhi.xhtml" />
    
    </div>
    <table style="margin-top:20px" cellspacing="0" cellpadding="0" border="0" width="777">
    	<tr>
    		<td colspan="3" height="50px">
    			<table cellspacing="0" cellpadding="0" border="0" width="100%" >
    				<tr>
    					<td height="50px" width="54%" style="padding-left: 18px; font-family: Arial; font-size: 18px; color: white; font-weight: bold;" >    			
    						<h:graphicImage value="/images/white_light.gif" width="43" height="16" />
    						<c:if test="#{tenChuongTrinh.equals(YTDT_Menu.quanLyKhoBHYT)}">
    							
    							XUẤT THUỐC CHO BỆNH NHÂN
    						</c:if>
    						<c:if test="#{tenChuongTrinh.equals('QuanLyKhoTE')}">
    							
    							XUẤT THUỐC CHO BỆNH NHÂN
    						</c:if>
    						<c:if test="#{tenChuongTrinh.equals(YTDT_Menu.thuVienPhi)}">
    							THANH TOÁN BỆNH NHÂN BHYT
    						</c:if>
    					</td>
    					<td valign="top">
    					<table cellspacing="0" cellpadding="0" width="100%" >
    						<tr>
    							<td style="font-family: Arial; font-size: 12px; color: white; text-align: right; padding-right: 15px; padding-bottom: 2px; height: 25px; border-bottom: solid 1px #97989a;" valign="bottom" >
    								&#160;
    							</td>
    						</tr>
    					</table> 
    					</td>
    				</tr>
    			</table>			
    		</td>    		    	
    	</tr>    
    	<tr>
    		<td width="13" height="12px" class="mytdl">
    		 		   	
    		</td>
    		<td style="background-color: #c9daea;" width="965px" height="12px"> 
    		      			   			 		 		 		 	
    		</td>
    		<td width="11px" height="12px" class="mytdr">    			
    		</td>
    	</tr>
    	<tr align="center">
					<td width="100%"
						style="background-color: #c9daea;"
						colspan="3" align="center">
						<a4j:outputPanel id="__message">
							<h:messages styleClass="mynull"/>
						</a4j:outputPanel>
					</td>
    	</tr>  
    	<tr>
    		<td colspan="3" style="background-color: #c9daea; padding-bottom: 10px" width="100%" >
    			<!-- Main Area -->    		
    			<table cellspacing="0" cellpadding="0" border="0" width="100%" >
    				<tr style="height: 25px;">
    					<td align="right" style="width:14%; padding-left: 0px;">
    					<h:outputText value="Số phiếu" styleClass="mytext" style="margin-right: 5px; margin-left: 23px;"/>
    					
    					</td>
    					<td align="left" style="padding-right: 0px;" >
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.maPhieu}"  
    						maxlength="15" onkeypress="iesvn_InputInKeys('0123456789')" id="__sophieu" name="_sophieu" style="width: 105px;" styleClass="myinput" tabindex="1">
    							<a4j:support event="onblur" action="#{B3232_ThanhToanBenhNhanBHYT.loadPhieuXuatBhAjax}" 
    							onsubmit="if (! checkEmpty(prefix_component + '__sophieu')) { return false; } "
    								reRender="DM_DAN_TOC,__madantoc,__danhsachcls,__thanhtien1,__miengiam,__thatthu,__bhytchi,__bntra,__cls2,__thuocvtth,__kyhieu,__quyen,__bienlai,__sophieu,DM_DOI_TUONG,DM_TINH,DM_HUYEN,DM_XA,TINH_MA,HUYEN_MA,XA_MA,__bienlai1,__bienlai2,__bienlai3,__ngayl,__message,__matiepdon,__mabenhnhan,__hoten,__namsinh,__nam,__diachi,MA_DT,__bhyt1,__bhyt2,__bhyt3,__bhyt4,__bhyt5,__thengheo,DT_DM_KCB_BHYT,__thetreem,__khaisinh,__chungsinh,BANKHAM_MA,BANKHAM_MA_pk,DM_BENH_ICD,DT_DM_NHAN_VIEN__1,__noidungthu,listCtXuatBh,__kiemtra,__congkham,__perbenhnhan,__sotien,__tongtien,__miengiam,nofoundTD,__gio,__ngayl,__tenbankham"
    								oncomplete="maPhieuOnComplete()"/>
							
    						</h:inputText>  
    						
    						<h:outputText value="Ngày" styleClass="mytext" style="margin-right: 5px; margin-left: 20px;"/>
    						<h:inputText maxlength="5"  onkeypress="iesvn_InputInKeys('1234567890:');" 
		    					value="#{B3232_ThanhToanBenhNhanBHYT.gioThanhToan}" tabindex="2" id="__gio" name="_gio" 
		    					style="width: 35px;margin-right:3px;" styleClass="myinput"  onkeyup="checkHour(this);" 
		    					onblur='if(this.className.match(/focus/gi))    this.className = this.className.replace(/focus/gi,""); checkHourBlur(this)'/>
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.pxNgaylap}" onkeypress="return being_wellformed_Date(this, event)" 
	    						onblur='if(this.className.match(/focus/gi))    this.className = this.className.replace(/focus/gi,""); return myValidateDate(this);'
	    					 type="text" id="__ngayl" name="_ngayl" maxlength="10" style=" width : 70px;" class="myinput" tabindex="3"/><a href="javascript:void(0)" onclick="if(self.gfPop)gfPop.fPopCalendar(document.getElementById(prefix_component + '__ngayl'));return false;" ><h:graphicImage value="/resources/calendar/cal.gif" style="margin:0 0 -3px 0" border="0" name="popcal"/></a>
    						
    						<h:outputText value="Thu ngân" styleClass="mytext" style="margin-right: 5px; margin-left: 10px;"/>
    						
    						   	 						   	 						
    						<h:inputText readonly="true"  value="#{B3232_ThanhToanBenhNhanBHYT.nvPhatTen}" id="DT_DM_NHAN_VIEN_MA"  style="width: 230px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();" />
    					</td>
    				</tr>  				
    				<tr style="height: 25px;">
    					<td align="right" style="width:14%; padding-left: 0px;">
    						<h:outputText value="Mã tiếp đón" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
    					
    					</td>
    					<td align="left" style="padding-right: 0px;" >
    						
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.tiepdon.tiepdonMa}" maxlength="17" 
    						 tabindex="6" id="__matiepdon" name="_matiepdon" style=" width : 105px;" styleClass="myinput">
    							<a4j:support event="onblur" action="#{B3232_ThanhToanBenhNhanBHYT.loadTiepdonAjax}" 
    							onsubmit="if (! checkEmpty(prefix_component + '__matiepdon')) { return false; } "
    								reRender="DM_DAN_TOC,__madantoc,__danhsachcls,__thanhtien1,__miengiam,__thatthu,__bhytchi,__bntra,__cls2,__thuocvtth,__kyhieu,__quyen,__bienlai,DM_DOI_TUONG,DM_TINH,DM_HUYEN,DM_XA,TINH_MA,HUYEN_MA,XA_MA,__bienlai1,__bienlai2,__bienlai3,__ngayl,__message,__matiepdon,__mabenhnhan,__hoten,__namsinh,__nam,__diachi,MA_DT,__bhyt1,__bhyt2,__bhyt3,__bhyt4,__bhyt5,__thengheo,DT_DM_KCB_BHYT,__thetreem,__khaisinh,__chungsinh,BANKHAM_MA,BANKHAM_MA_pk,DM_BENH_ICD,DT_DM_NHAN_VIEN__1,__noidungthu,listCtXuatBh,__kiemtra,__congkham,__perbenhnhan,__sotien,__tongtien,__miengiam,__sophieu,__listCtXuatBh,__ghinhan,nofoundTD,__gio,__ngayl,__tenbankham,__nguonkhactra,hid_nguonkhactra,hid_benhnhantra"
    								oncomplete="highlightOnFocus();maPhieuOnComplete();checkFocusTiepdon();"/>
    						</h:inputText>
    						<h:outputText value="*" styleClass="mynull" style="margin-right: 5px; margin-left:2px;"/>
   	 						
   	 						<button name="_goiBN" id="__goiBN" value="Gọi BN" onclick="goiBN('__matiepdon', '__hoten');" type="button">Gọi BN</button>
    						<applet code="com.iesvn.test.testapplet.ClientQuangBaoApplet.class" archive="ClientQuangBao.jar"
width="1" height="1" id="xyz" name="xyz"></applet>
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right" style="width:13%; padding-left: 0px;">
    					<h:outputText value="Mã bệnh nhân" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
    							
    					</td>
    					<td align="left" style="padding-right: 0px;" >
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.benhnhan.benhnhanMa}" readonly="true" id="__mabenhnhan" name="_mabenhnhan"  style="float: left; width : 105px;" styleClass="myreadonly"/>
    				
    						<h:outputText value="Họ tên" styleClass="mytext" style="float: left; margin-right: 5px; margin-left: 15px;"/>
    						
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.benhnhan.benhnhanHoten}" readonly="true" id="__hoten" name="_hoten"  style="float: left; width : 155px;" styleClass="myreadonly"/>
    					
    						<h:outputText value="Năm sinh" styleClass="mytext" style="float: left ; margin-right: 5px; margin-left: 22px;"/>
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.bnNamsinh}" readonly="true" id="__namsinh" name="_namsinh" style="float: left; margin-right: 5px; width : 30px;" styleClass="myreadonly"/>
    						<h:outputText value="Giới tính" styleClass="mytext" style="float: left; padding-top:3px; margin-left: 25px; margin-right: 0px;"/>
    						<h:selectOneRadio id="__nam"  readonly="true" value="#{B3232_ThanhToanBenhNhanBHYT.bnGtinh}">
					        	<f:selectItem id="__namItems" itemValue="0" itemLabel="Nam&#160;&#160;" styleClass="myreadonly" />					    
					        	<f:selectItem id="__nuItems" itemValue="1" itemLabel="Nữ" styleClass="myreadonly" />
					    	</h:selectOneRadio>	
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right" style="padding-right: 5px">
    						<h:outputText value="Địa chỉ" styleClass="mytext"/>    						
    					</td>
    					<td align="left" style="padding-left: 0px" colspan="3">    						
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.benhnhan.getTinhMa(true).dmtinhMa}" readonly="true" id="TINH_MA" style="width : 40px;" styleClass="myreadonly"/>
    						
    						<h:inputText  value="#{B3232_ThanhToanBenhNhanBHYT.benhnhan.getTinhMa(true).dmtinhTen}" readonly="true" id="DM_TINH" name="DM_TINH" style="width : 150px;margin-right:3px;margin-left:3px;" class="myreadonly"/>
    						
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.benhnhan.getHuyenMa(true).dmhuyenMa}" readonly="true" id="HUYEN_MA" style="width : 40px;" styleClass="myreadonly"/>
    						
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.benhnhan.getHuyenMa(true).dmhuyenTen}" readonly="true" id="DM_HUYEN" name="DM_HUYEN" style="margin-right:3px; width : 151px;margin-left:3px;" class="myreadonly"/>
    						
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.benhnhan.getXaMa(true).dmxaMa}" readonly="true" id="XA_MA" style="width: 55px;" styleClass="myreadonly"/>
    						
    						<h:inputText  value="#{B3232_ThanhToanBenhNhanBHYT.benhnhan.getXaMa(true).dmxaTen}" readonly="true" id="DM_XA" name="DM_XA" style="width: 162px;margin-left:3px;" class="myreadonly"/>					    						
    					</td>
    						
    				</tr>
    				<tr style="height: 25px;">    					
    					<td  align="right" style="padding-left:0px;">
    						&#160;
    					</td>
    					
    					<td align="left" style="padding-right: 0px;">
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.benhnhan.benhnhanDiachi}" readonly="true" id="__diachi" 
    						name="_diachi" style=" width :396px;" styleClass="myreadonly"/>
    						<h:outputText value="Dân tộc" styleClass="mytext" style="margin-right: 5px; margin-left: 10px;"/>
    					
    					<h:inputText disabled="true" value="#{B3232_ThanhToanBenhNhanBHYT.benhnhan.getDantocMa(true).dmdantocMa}" 
    						id="__madantoc" name="_madantoc" style=" width : 30px;" styleClass="myreadonly"
    						maxlength="10" />
    					
    					<h:inputText disabled="true" id="DM_DAN_TOC" value="#{B3232_ThanhToanBenhNhanBHYT.benhnhan.getDantocMa(true).dmdantocTen}"
    					class="myreadonly" name="DM_DAN_TOC"  style="margin-left:3px;width: 133px;"/>
    					
    					
    					</td>
    				</tr>
    				<tr style="height: 25px;">    					
    					<td  align="right" style="padding-left:0px;">
    						<h:outputText value="Đối tượng" styleClass="mytext" style="margin-right: 5px; margin-left: 25px;"/>
    						
    					</td>
    					<td align="left" style="padding-right: 0px;">
    						<h:inputText disabled="true"  value="#{B3232_ThanhToanBenhNhanBHYT.tdDoituongMa}" maxlength="8" id="MA_DT" name="_manguoiphat" 
    						style="width: 44px;margin-right:3px;" styleClass="myreadonly" />    							
    						
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.tdDoituong}" disabled="true"  id="DM_DOI_TUONG" name="DM_DOI_TUONG" 
    						style=" width : 211px;" styleClass="myreadonly" />
    						<h:outputText value="Bàn khám" styleClass="mytext" style="margin-right: 5px; margin-left: 132px;"/>    						    						    						
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.strBankham}" disabled="true"  id="__tenbankham" name="_tenbankham" 
    						style=" width : 168px;" styleClass="myreadonly" />
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right">
    						<h:outputText value="Thẻ BHYT" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
    						
    					</td>
    					<td align="left" style="padding-right: 0px; ">
    						    					
    					<h:inputText disabled="true" value="#{B3232_ThanhToanBenhNhanBHYT.tiepdon.tiepdonSothebh}"  id="__bhyt5" name="_bhyt5" style=" width : 220px; height: 17px;" styleClass="myreadonly"/>
    					<h:inputText disabled="true" value="#{B3232_ThanhToanBenhNhanBHYT.tiepdon.khoibhytMa.dtdmkhoibhytTen}" id="__bhyt3" name="_bhyt3" style="width: 110px; height: 17px;" styleClass="myreadonly"/>&#160;
    					<h:inputText disabled="true" value="#{B3232_ThanhToanBenhNhanBHYT.tiepdon.tinhbhytMa.dmtinhTen}"  id="__bhyt2" name="_bhyt2" style="width: 95px; height: 17px;" styleClass="myreadonly"/>&#160;
    					<h:inputText disabled="true" value="#{B3232_ThanhToanBenhNhanBHYT.tiepdon.tiepdonNambhyt}"  id="__bhyt1" name="_bhyt1" style="margin-left: 1px; width : 44px; height: 17px;" styleClass="myreadonly"/>&#160;
    					<h:inputText disabled="true" value="#{B3232_ThanhToanBenhNhanBHYT.tiepdon.tiepdonMacoquan}"  id="__bhyt4" name="_bhyt4" style="width: 136px; height: 17px;" styleClass="myreadonly"/>&#160;
    				
    					
    					</td>    					
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right">
    						<h:outputText value="Thẻ nghèo" styleClass="mytext" style="margin-right: 5px; margin-left: 21px"/>
    						
    						
    					</td>
    					<td align="left" style="padding-right: 0px; ">
    					<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.tiepdon.tiepdonThengheo}" readonly="true" id="__thengheo" name="_thengheo" style="width : 220px;" styleClass="myreadonly"/>
    					
    						<h:outputText value="KCB" styleClass="mytext" style="margin-right: 5px; margin-left: 85px;"/>
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.tdKcbBhyt}" readonly="true" id="DT_DM_KCB_BHYT" name="DT_DM_KCB_BHYT" style="width: 145px" styleClass="myreadonly"/>   						
    					
    					
    					
    					</td>    					
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right">
    						<h:outputText value="Thẻ trẻ em" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
    						
    					</td>
    					<td align="left" style="padding-right: 0px; ">
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.tiepdon.tiepdonSothete}" readonly="true" id="__thetreem" name="_thetreem" style="width: 105px;" styleClass="myreadonly"/>
    						<h:outputText value="Khai sinh" styleClass="mytext" style="margin-right: 5px; margin-left:16px;"/>
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.tiepdon.tiepdonKhaisinh}" readonly="true" id="__khaisinh" name="_khaisinh" style=" width : 80px;" styleClass="myreadonly"/>    						
    					
    						<h:outputText value="Chứng sinh" styleClass="mytext" style="margin-right: 5px; margin-left: 45px;"/>
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.tiepdon.tiepdonChungsinh}" readonly="true" id="__chungsinh" name="_chuongsinh" style="width: 246px;" styleClass="myreadonly"/>
    					
    					</td>    					
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right">
    						<h:outputText value="Chẩn đoán" styleClass="mytext" style="margin-right: 5px; margin-left: 42px;"/>
    					</td>
    					<td align="left" style="padding-right: 0px; ">
    						  						
    					
    					
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.tdChandoan}" readonly="true" id="DM_BENH_ICD" name="_chuandoan" style="width: 260px;" styleClass="myreadonly"/>    						
    						<h:outputText value="Bác sĩ" styleClass="mytext" style="margin-right: 5px; margin-left:46px;"/>
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.nvBacsi}" readonly="true" id="DT_DM_NHAN_VIEN__1" name="DT_DM_NHAN_VIEN__1" style="width: 276px;" styleClass="myreadonly"/>
    					</td>    					
    				</tr>
    				
    				<tr style="height: 25px;">
    					<td align="right">
    						<h:outputText value="Nội dung thu" styleClass="mytext" style="margin-right: 5px; margin-left: 0px;"/>
    						
    					</td>
    					<td align="left" style="padding-right: 0px; ">
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.noiDungThu}"  id="__noidungthu" name="__noidungthu" style=" width : 260px;" styleClass="myinput"/>
    					</td>    					
    				</tr>
    				
    				
    				
    			</table>					
    		</td>
    	</tr>
    	<tr>
    		<td colspan="3" style="background-color: #ffffff; padding-top: 10px; padding-bottom: 5px;" width="100%" align="center">
    			<!-- Detail Area -->
    			
    			<table cellspacing="0" cellpadding="0" border="0" width="95%" style="border: solid 1px #54779f;">
    				  <tr style=" height : 20px;" class="mycol" >
    					<td align="center" style="width: 4%; border-right: solid 1px; border-color:#ffffff;">
    						<h:outputText value="STT"/>
    					</td>    					   					
    					
    					<td align="center" style="width: 5%; border-right: solid 1px; border-color:#ffffff;">
    						<h:outputText value="Loại"/>
    					</td>
    					
    					<td align="center" style="width :12%; border-right: solid 1px; border-color:#ffffff;">
    						<h:outputText value="Mã số"/>
    					</td>
    					
    					<td align="center" style="border-right: solid 1px; border-color:#ffffff;">
    						 <h:outputText value="Tên CLS, PT, TT"/>
    					</td>
    					
    					 
    					
    					 <td align="center" style="width: 4%; border-right: solid 1px; border-color:#ffffff;">
    						 <h:outputText value="MP"/>
    					</td>
    					
    					<td align="center" style="width: 4%; border-right: solid 1px; border-color:#ffffff;">
    						<h:outputText value="YC"/>
    					</td>
    					
    					<td align="center" style="width: 5%;  border-right: solid 1px; border-color:#ffffff;">
    						<h:outputText value="KTC"/>
    					</td>
    					
    					<td align="center" style="width: 4%;  border-right: solid 1px; border-color:#ffffff;">
    						<h:outputText value="SL"/>
    					</td>
    					<td align="center" style="width:12%; border-right: solid 1px; border-color:#ffffff;">
    						<h:outputText value="Đơn giá"/>
    					</td>	
    					<td style="width:4%;border-right:solid 1px #ffffff;" align="center" >
    						<h:outputText value="TT"/>
    					</td>  
    					<td style="width:5%;" align="left" >
    						&#160;
    					</td>    					 			    								
    				</tr>
    				
    				
    			<tr>
    				<td colspan="24" align="center">
    				
    				<div style="overflow-x: hidden;overflow-y: scroll; height: 100px;width: 100%;" align="center" id="listCLS">
    				
    					<rich:dataTable headerClass="mycol" id="__danhsachcls" rowClasses="myrow1,myrow2"
	                          styleClass="myTable" value="#{listCLS_XuatHangChoBNBHYT}" var="currentRow" width="100%" rendered="#{listCLS_XuatHangChoBNBHYT.rowCount>=0}" bgcolor="#cccccc">
	                        <rich:column style="width: 4%;" id="column_STT" >	                        	
	                            <h:outputText id="outputText26" value="#{listCLS_XuatHangChoBNBHYT.rowIndex + 1}"/>                 
	                        </rich:column>
	                        
	                        <rich:column id="column_loai" style="width: 5%;">	                        	
                                <h:outputText id="clskhamloai" value="#{currentRow.clskhamLoai}" /> 
	                        </rich:column>
	                        
	                        <rich:column id="column_maso" style="width: 12%;">  	                        	                                                 
	                             <h:outputText id="maso" value="#{currentRow.clskhamMahang.dtdmclsbgMa}" />          
	                        </rich:column>
	                        
	                        <rich:column id="column_diengiai" align="left">  	                        	                                                
	                        	<h:outputText id="tencls" value="#{currentRow.clskhamMahang.dtdmclsbgDiengiai}" />  
	                        </rich:column>
	                        
	                       	                       
	                        <rich:column id="column_mp" style="width: 4%;">  	                        	                                                
	                             <h:outputText id="mp_table"  value="#{currentRow.clskhamMien == true?'x':''}" />          
	                        </rich:column>
	                        
	                        <rich:column id="column_yc" style="width: 4%;">   	                        	                                                 
	                             <h:outputText id="yeucau_table" value="#{currentRow.clskhamYeucau== true?'x':''}" />          
	                        </rich:column>
	                        <rich:column id="column_ktc" style="width: 5%;">   
	                             <h:outputText id="kythuatcao_table" value="#{currentRow.clskhamKtcao== true?'x':''}" />          
	                        </rich:column>
	                        <rich:column id="column_soluong" style="width: 4%" align="right">  	                        	                                                
	                             <h:outputText id="soluong_table" value="#{currentRow.clskhamLan}" ><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:outputText>          
	                        </rich:column>
	                        <rich:column id="column_dongia" style="width: 12%; " align="right">  	                        	                                              
	                             <h:outputText id="dongia_table" value="#{currentRow.clskhamDongia}" ></h:outputText>          
	                        </rich:column>
	                        
	                         <rich:column id="column_thanhtoan" style="width: 4%;" align="center">  
	                        	                                                
	                            <h:selectBooleanCheckbox disabled="true" readonly="true" title="Thanh Toán" label="Thanh Toán" id="__thanhtoan_#{listCtkq_B121_2.rowIndex}"  value="#{currentRow.clskhamDatt}" style="float: left">
       						    </h:selectBooleanCheckbox>
   	 						   
   	 					
	                        </rich:column>
	                       <rich:column align="left" style="width: 5%;">       							                               
							</rich:column>
	                    </rich:dataTable>
    				</div>
    				</td></tr> 				    				       							 		
						</table>			
    		
    		</td>
    	</tr>
    	<tr>
    		<td colspan="3" style="background-color: #ffffff; padding-top: 10px; padding-bottom: 5px;" width="98%" align="center">
    			<!-- Detail Area -->
    			
    			<table cellspacing="0" cellpadding="0" width="95%" style="border: solid 1px #7e9dba">
    			 <tr style="height: 20px;" class="mycol">
    			<td align="center" style="width: 4%; border-right: solid 1px; #ffffff;" >
    			<h:outputText value="STT"/>
    					
    			</td>
    			<td align="center" style="width: 8%; border-right: solid 1px; #ffffff;">
    			<h:outputText value="Mã số"/>
    			</td>
    			<td align="center" style="border-right: solid 1px; #ffffff;">
    			<h:outputText value="Tên thuốc, quy cách"/>
    			</td>
    			<td align="center" style="width: 7%; border-right: solid 1px; #ffffff;">
    			<h:outputText value="NSX"/>
    					
    			</td>
    			<td align="center" style="width: 20%; border-right: solid 1px; #ffffff;">
    			<h:outputText value="HSX"/>
    							
    			</td>
    			<td align="center" style="width: 8%; border-right: solid 1px; #ffffff;">
    			<h:outputText value="Số lượng"/>
    								
    			</td>
    			<td align="center" style="width: 10%; border-right: solid 1px; #ffffff;">
    			<h:outputText value="Đơn giá"/>
    									
    			</td>
    			
    			<td align="center" style="width: 11%; border-right: solid 1px; #ffffff;">
    				<h:outputText value="Thành tiền" />    								
    			</td>
    			
    			<td align="center" style="width: 6%; border-right: solid 1px; #ffffff;">
    				<h:outputText value="TT" />    								
    			</td>
    			
    			</tr>
    			
    			<tr>
    			<td colspan="9">
    			<div style="overflow-x: hidden; overflow-y: scroll; height: 150px;  width: 100%">
    			<h:panelGroup id="listCtXuatBh">
    			<rich:dataTable id="__listCtXuatBh"  width="100%" value="#{listThuocPK}" var="thuoc" align="center" border="0" cellpadding="0" cellspacing="0"
    				headerClass="mycol" rowClasses="myrow1,myrow2" bgcolor="#cccccc" >
    				<rich:column width="4%" align="center" >    					
    					<h:outputText value="#{listThuocPK.rowIndex + 1}" style="padding-left: 3px;" />
    				</rich:column>
    				<rich:column width="8%" align="center" >    						
    					<h:outputText value="#{thuoc.thuocphongkhamMathuoc.dmthuocMa}" style="padding-left: 3px;" />				
    				</rich:column>
    				<rich:column align="left" >    					
    					<h:outputText value="#{thuoc.thuocphongkhamMathuoc.dmthuocTen}" style="padding-left: 3px;" />
    				</rich:column>
    				<rich:column width="7%" align="center" >    					
    					<h:outputText value="#{thuoc.getThuocphongkhamQuocgia(true).dmquocgiaMa}" style="padding-left: 3px;" />
    				</rich:column>
    				<rich:column width="20%" align="center" >    					
    					<h:outputText value="#{thuoc.getThuocphongkhamHangsx(true).dmnhasanxuatTen}" style="padding-left: 3px;" />
    				</rich:column>
    				<rich:column width="8%" align="right" >    					
    					<h:outputText value="#{thuoc.thuocphongkhamSoluong}" style="padding-left: 3px;" >
    					<f:converter converterId="com.iesvn.yte.converter.DoubleConverter2FractionDigits" />
    					</h:outputText>
    				</rich:column>
    				<rich:column width="10%" align="right" >    					
    					<h:outputText value="#{thuoc.thuocphongkhamDongiatt}" style="padding-left: 3px;" >    						
    					</h:outputText>
    				</rich:column>
    				<rich:column width="11%" align="right" style="padding-right:5px;" >    					
    					<h:outputText value="#{thuoc.thuocphongkhamThanhtien}" style="padding-left: 3px;" >
    						
    					</h:outputText>
    				</rich:column>
    				
    				<rich:column style="width: 6%;" align="left">  
                         <h:selectBooleanCheckbox disabled="true" readonly="true" title="Thanh Toán" label="Thanh Toán" value="#{thuoc.thuocphongkhamDatt}" style="float: left">
						 </h:selectBooleanCheckbox>
                     </rich:column>
    				 
    			</rich:dataTable>  
    			</h:panelGroup>
    			</div> 
    			</td>
    			</tr>
    			</table> 			
    		
    		</td>
    	</tr>
    	<tr>
    		<td colspan="3" style="background-color: #ffffff; padding-top: 10px; padding-bottom: 15px" width="100%" >
    			<!-- Final Area -->   
    					
    		<table cellspacing="0" cellpadding="0" border="0" width="98%" align="center">
    				<tr style="height: 20px;">
    					<td align="right" width="99px">
    					<h:outputText value="Tổng tiền" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
    					
    						
    					</td>
    					<td align="left" style="padding-right: 15px;">
    					<h:inputText  readonly="true"  value="#{B3232_ThanhToanBenhNhanBHYT.thanhtien1}" id="__thanhtien1"  name="_thanhtien1" style=" width : 80px;" styleClass="myreadonlyso"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    					
    						
    						<h:outputText value="BN trả" styleClass="mytext" style="margin-right: 5px; margin-left: 52px;"/>
    					<h:inputText  readonly="true"   value="#{B3232_ThanhToanBenhNhanBHYT.bntra}" id="__bntra"  name="_bntra" style="width: 80px" styleClass="myreadonlyso"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    						
    					
    						<h:outputText value="BHYT chi" styleClass="mytext" style="margin-right: 5px; margin-left: 36px;"/>
    						<h:inputText  readonly="true"  value="#{B3232_ThanhToanBenhNhanBHYT.bhytchi}" id="__bhytchi" name="_bhytchi" style=" width : 80px;" styleClass="myreadonlyso"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    						<h:outputText value="Nguồn khác trả" styleClass="mytext" style="margin-right: 5px; margin-left: 15px;"/>
    					
    						<h:inputText value="#{B3232_ThanhToanBenhNhanBHYT.nguonkhactra}" id="__nguonkhactra" name="_nguonkhactra" style="width: 100px;" styleClass="myinputso" 
    						   onkeypress="iesvn_InputInKeys('.0123456789');checkValidDot(this)" maxlength="10"
    						   onblur='numberFormatBlur(this);checkTienBNTra(this);'    						   
    						   ><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    					</td>
    					
    				</tr>
    				<tr style="height: 20px;">
    					<td align="right" >
    					
    							<h:outputText value="CLS" styleClass="mytext" style="margin-right: 5px; margin-left: 48px;"/>
    					
    					</td>
    					<td align="left" style="padding-right: 15px">
    					
    					
    					
    								
    					
    						
    						<h:inputText readonly="true"  value="#{B3232_ThanhToanBenhNhanBHYT.cls}"  id="__cls2" name="__cls2" style=" width : 80px;" styleClass="myreadonlyso"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    						
    						<h:outputText value="Thuốc, VTTH" styleClass="mytext" style="margin-right: 5px; margin-left: 16px;"/>
    						<h:inputText   readonly="true"  value="#{B3232_ThanhToanBenhNhanBHYT.thuoc}"  tabindex="16" id="__thuocvtth" name="__thuocvtth" style=" width : 80px;" styleClass="myreadonlyso"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    						<h:outputText value="Thất thu" styleClass="mytext" style="margin-right: 5px; margin-left: 42px;"/>
    						<h:inputText  value="#{B3232_ThanhToanBenhNhanBHYT.thatthu}" onkeypress="iesvn_InputInKeys('1234567890,.');" tabindex="16" id="__thatthu" name="_thatthu" style=" width : 80px;" styleClass="myinputso"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    						
    					<h:outputText value="Miễn giảm" styleClass="mytext" style="margin-right: 5px; margin-left: 15px;"/>
    					
    						<h:inputText readonly="true"  value="#{B3232_ThanhToanBenhNhanBHYT.miengiam}"  id="__miengiam" name="_miengiam" style=" width : 80px;" styleClass="myreadonlyso"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    						
    						
    					</td>
    					
    				</tr>
    				<tr>
    					<td align="right" >
    					
    						<h:outputText  value="Ký hiệu" styleClass="mytext" style="margin-right: 5px; margin-left: 39px;"/>
    					
    					</td>
    					<td align="left" style="padding-right: 15px">
    							
    					
    							
    					<h:inputText    tabindex="17"   value="#{B3232_ThanhToanBenhNhanBHYT.kyhieu}" maxlength="8" id="__kyhieu"  name="_kyhieu" style="width: 100px;" styleClass="myinput"/>
    					
    					<h:outputText value="Quyển" styleClass="mytext" style="margin-right: 5px; margin-left: 30px;"/>
    					<h:inputText   tabindex="18" value="#{B3232_ThanhToanBenhNhanBHYT.quyen}" maxlength="8" id="__quyen"  name="_quyen" style="width: 100px;" styleClass="myinput"/>
    					
    					<h:outputText value="Biên lai" styleClass="mytext" style="margin-right: 5px; margin-left: 26px;"/>
    					<h:inputText   tabindex="19"  value="#{B3232_ThanhToanBenhNhanBHYT.bienlai}" maxlength="8" id="__bienlai"  name="_bienlai" style="width: 100px;" styleClass="myinput"/>
    						
    					</td>
    					
    				</tr>
    				
    				
    				<tr style="height: 40px;">
    					<td colspan="4" align="center" style="padding-top: 10px; padding-left: 170px">    						
    					
    						
    						<div  id="div_ghinhan">
    						
	    						<a4j:commandButton tabindex="15" id="__ghinhan" name="_ghinhan" value="Ghi nhận" style="width: 65px; float:left;display: #{B3232_ThanhToanBenhNhanBHYT.checkThanhToan}" styleClass="mybton_b" 
	    									onclick="if (! onSubmitTmp()) { return false; }"
	                        				action="#{B3232_ThanhToanBenhNhanBHYT.ghiNhan}"
	                        				oncomplete="highlightOnFocus();displayAfterGhiNhan()"
	                        				
	                        				reRender="listCLS,__danhsachcls,__thanhtien1,__miengiam,__thatthu,__bhytchi,__bntra,__cls2,__thuocvtth,__kyhieu,__quyen,__bienlai,DM_DOI_TUONG,DM_TINH,DM_HUYEN,DM_XA,nosuccess,__message,__bienlai1,__bienlai2,__bienlai3,__sophieu,__nguonkhactra,hid_nguonkhactra,hid_benhnhantra"/>
	                        				
	    						</div>
    						
    						
    							<a4j:commandButton tabindex="16" id="__sualai" name="_sualai" value="Nhập mới" style="width: 75px;float:left; margin-left:3px" styleClass="mybton_b" 
                        			action="#{B3232_ThanhToanBenhNhanBHYT.resetForm()}"
                        			focus="BANKHAM_MA"                        				
                        			oncomplete="highlightOnFocus();resetAfterNhapMoiXuatHang();document.getElementById(prefix_component + '__matiepdon').focus();"
                        			reRender="listCLS,__danhsachcls,DM_DAN_TOC,__madantoc,__thanhtien1,__miengiam,__thatthu,__bhytchi,__bntra,__cls2,__thuocvtth,__kyhieu,__quyen,__bienlai,DM_DOI_TUONG,DM_TINH,DM_HUYEN,DM_XA,TINH_MA,HUYEN_MA,XA_MA,__bienlai1,__bienlai2,__bienlai3,nosuccess,__message,BANKHAM_MA_pk,BANKHAM_MA,__matiepdon,__mabenhnhan,__hoten,__namsinh,__diachi,MA_DT,__bhyt1,__bhyt2,__bhyt3,__bhyt4,__bhyt5,__thengheo,DT_DM_KCB_BHYT,__thetreem,__khaisinh,__chungsinh,__sophieu,__ngayl,DM_BENH_ICD,DT_DM_NHAN_VIEN__1,__noidungthu,DT_DM_NHAN_VIEN_MA_pk,DT_DM_NHAN_VIEN_MA,listCtXuatBh,__kiemtra,__miengiam,__congkham,__perbenhnhan,__sotien,__bienlai1,__bienlai2,__bienlai3,__tongtien,__returnxuathangchobnbhyt,__thieuthuoc,__saveResult,hid_ReportFinished,hid_ReportFileName,__tonkhoMa,__gio,__tenbankham,__nguonkhactra,hid_nguonkhactra,hid_benhnhantra"/>
    						
    						
    						<div  id="div_inphieu">
	    						
	    						<a4j:commandButton tabindex="17" id="__inphieu" name="_inphieu" 
	    							value="In phiếu" style="width: 65px;float:left; margin-left:3px" styleClass="mybton_b"
	                       			action="#{B3232_ThanhToanBenhNhanBHYT.inPhieu}"
	                       			reRender="__message"/>
	    					
    						</div>
    						<div  id="div_huyphieu">
	    						
	    						<a4j:commandButton tabindex="18" id="__huyphieu" name="_huyphieu" 
	    							value="Hủy phiếu" style="width: 65px;float:left; margin-left:3px" styleClass="mybton_b"
	                       			action="#{B3232_ThanhToanBenhNhanBHYT.huyPhieu}"
	                       			oncomplete="highlightOnFocus();resetAfterNhapMoiXuatHang();"
	                       			reRender="listCLS,__danhsachcls,DM_DAN_TOC,__madantoc,__thanhtien1,__miengiam,__thatthu,__bhytchi,__bntra,__cls2,__thuocvtth,__kyhieu,__quyen,__bienlai,DM_DOI_TUONG,DM_TINH,DM_HUYEN,DM_XA,TINH_MA,HUYEN_MA,XA_MA,__bienlai1,__bienlai2,__bienlai3,nosuccess,__message,BANKHAM_MA_pk,BANKHAM_MA,__matiepdon,__mabenhnhan,__hoten,__namsinh,__diachi,MA_DT,__bhyt1,__bhyt2,__bhyt3,__bhyt4,__bhyt5,__thengheo,DT_DM_KCB_BHYT,__thetreem,__khaisinh,__chungsinh,__sophieu,__ngayl,DM_BENH_ICD,DT_DM_NHAN_VIEN__1,__noidungthu,DT_DM_NHAN_VIEN_MA_pk,DT_DM_NHAN_VIEN_MA,listCtXuatBh,__kiemtra,__miengiam,__congkham,__perbenhnhan,__sotien,__bienlai1,__bienlai2,__bienlai3,__tongtien,__returnxuathangchobnbhyt,__thieuthuoc,__saveResult,hid_ReportFinished,hid_ReportFileName,__tonkhoMa,__gio,__tenbankham,__nguonkhactra,hid_nguonkhactra,hid_benhnhantra"/>
	    					
    						</div>
    						<div  id="div_inphieuTT">
	    						
	    						<a4j:commandButton tabindex="19" id="__inphieuTT" name="_inphieuTT" 
	    							value="In phiếu thanh toán" style="width: 125px;float:left; margin-left:3px" styleClass="mybton_b"
	                       			action="#{B3232_ThanhToanBenhNhanBHYT.inPhieuThanhToan}"
	                       			reRender="__message"/>
	    					
    						</div>
    					</td>
    				</tr>   				
    			</table>					
    		</td>
    	</tr>	
    </table>
    <h:inputHidden id="hid_nguonkhactra" value="#{B3232_ThanhToanBenhNhanBHYT.nguonkhactra_hid}"/>
  <h:inputHidden id="hid_benhnhantra" value="#{B3232_ThanhToanBenhNhanBHYT.benhnhanTra_hid}"/>
   </h:form>
   </body>
   <iframe width="174" height="189" name="gToday:normal:agenda.js" id="gToday:normal:agenda.js" src="#{facesContext.externalContext.requestContextPath}/resources/calendar/ipopeng.htm" scrolling="no" frameborder="0" style="visibility:visible; z-index:999; position:absolute; top:-500px; left:-500px;"></iframe>
   <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/resources/gears/dieutri/vienphi/B3232_ThanhToanBenhNhanBHYT_gears.js"></script>
  
</ui:define> 
</ui:composition>
