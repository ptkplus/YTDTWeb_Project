<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:c="http://java.sun.com/jstl/core"
                template="/layout/mytemplate.xhtml">

<ui:define name="body">	
	<f:loadBundle var="msg" basename="com.iesvn.yte.UIResources" />
	<script type="text/javascript">
    
    
  	    function checkEmpty(id){
			if ( document.getElementById(id).value == null || document.getElementById(id).value == "" ){
			
				if(document.getElementById(id).className.match(/focus/gi))
              		document.getElementById(id).className = document.getElementById(id).className.replace(/focus/gi,"");
				return false;
			}
			return true;
		}
		
		var bCancel = false;
		var bSave = false;
		var huyPhieu = false;
		
		var inphieu = false;
		function setSave() {
			bSave = true;
		}
		function setCancel(){
			bCancel = true;
		}		
		
		function iesvn_Required() {
			//this.aa = new Array(prefix_component + "DM_KHOA_MA", "<h:outputFormat value='#{msg.common_requireField}' > <f:param value='Khoa phòng'/> </h:outputFormat>", new Function ("varName",  "return this[varName];"));
 	 		this.ab = new Array(prefix_component + "__sobenhan", "<h:outputFormat value='#{msg.common_requireField}' > <f:param value='Số bệnh án'/> </h:outputFormat>", new Function ("varName",  "return this[varName];"));
	 		/*if (huyPhieu == false &amp;&amp; inphieu == false){
	 			if (document.getElementById(prefix_component + "__bienlai1") != null){
	 				this.ac = new Array(prefix_component + "__bienlai1", "<h:outputFormat value='#{msg.common_requireField}' > <f:param value='Ký hiệu'/> </h:outputFormat>", new Function ("varName",  "return this[varName];"));
	 			}
	 			if (document.getElementById(prefix_component + "__bienlai2") != null){
	 				this.ad = new Array(prefix_component + "__bienlai2", "<h:outputFormat value='#{msg.common_requireField}' > <f:param value='Quyển'/> </h:outputFormat>", new Function ("varName",  "return this[varName];"));
	 			}
	 			if (document.getElementById(prefix_component + "__bienlai3") != null){
	 				this.ae = new Array(prefix_component + "__bienlai3", "<h:outputFormat value='#{msg.common_requireField}' > <f:param value='Biên lai'/> </h:outputFormat>", new Function ("varName",  "return this[varName];"));
	 			}
 			}
 			*/
 			if (document.getElementById(prefix_component + "DT_DM_NHAN_VIEN_MA_1") != null){
 				this.af = new Array(prefix_component + "DT_DM_NHAN_VIEN_MA_1", "<h:outputFormat value='#{msg.common_requireField}' > <f:param value='Thu ngân'/> </h:outputFormat>", new Function ("varName",  "return this[varName];"));
 	 		}
 			
 		}
		function onSubmitTmp_HuyPhieu(){
		   huyPhieu = true;
		   return onSubmit();
		}
		function onInPhieuTmp(){
			inphieu = true;
			var ketqua = onSubmit();
			inphieu = false;
			return ketqua;
			
		}
		function onSubmitTmp(){
		   setSave();
		   return onSubmit();
		}
		
		function onSubmit() {
			var form = document.forms[0];
			var valid = true;			
			if (bSave){
		    	bSave = false;	    	    	
		    	valid = iesvn_ValidateRequired(form)  ; 
		    } 	  
		    if (huyPhieu){
		    		    	    	
		    	valid = iesvn_ValidateRequired(form)  ; 
		    	huyPhieu = false;
		    }  	    
		    if (bCancel){
		    	bCancel = false;
		    }
		    return valid;
		}
		function enterToTab(){
          	if((document.getElementById(prefix_component + "__ghinhan").alt != 1) &amp;&amp; 
          	(document.getElementById(prefix_component + "__tieptucnhap").alt != 1) &amp;&amp; 
          	(document.getElementById(prefix_component + "__inPhieuTT").alt != 1) &amp;&amp;
          	(document.getElementById(prefix_component + "__inPhieuNgT").alt != 1) &amp;&amp;
          	(document.getElementById(prefix_component + "__huyPhieu").alt != 1) &amp;&amp;
          	(document.getElementById(prefix_component + "__inPhieu").alt != 1)) {
                 if(window.event.keyCode == 13){
                        window.event.keyCode = 9;
                  }
         	}
		} 
		function checkTienBNTra(textbox) {			
			var nguonkhac = textbox.value;
			if(iesvn_Trim(nguonkhac) == '') {
				nguonkhac = "0";
				textbox.value = 0;
			}						
			var tmp = parseFloat(nguonkhac.replace(/,/g,""));
			var hid_nguonkhac = parseFloat(document.getElementById(prefix_component + "hid_nguonkhactra").value);
			var hid_benhnhan = parseFloat(document.getElementById(prefix_component + "hid_benhnhantra").value);
			var hid_conlai = parseFloat(document.getElementById(prefix_component + "hid_conlai").value);
			//alert("tmp = " +  tmp + ", hid_benhnhan = " + hid_benhnhan + ", sub = " + (hid_benhnhan - tmp));
			var sub = hid_benhnhan - tmp;
			var sub_conlai = hid_conlai - tmp;
			//alert("sub = " + sub + ", fix2 = " + sub.toFixed(2) + ", fix3 = " + sub.toFixed(3));
			if ((tmp - hid_benhnhan ) > 0) {
				alert("Số tiền nguồn khác trả không hợp lệ");
				textbox.value = hid_nguonkhac;
				document.getElementById(prefix_component + "__sodu").value = (hid_benhnhan - hid_nguonkhac);
				document.getElementById(prefix_component + "__conlai").value = (hid_conlai - hid_nguonkhac);
				numberFormatBlur(textbox);	
				numberFormatBlur(document.getElementById(prefix_component + "__sodu"));
				numberFormatBlur(document.getElementById(prefix_component + "__conlai"));				
			} else {
				document.getElementById(prefix_component + "__sodu").value = sub;     //sub.toFixed(2);
				document.getElementById(prefix_component + "__conlai").value = sub_conlai;  // sub_conlai.toFixed(2);
				numberFormatBlur(document.getElementById(prefix_component + "__sodu"));
				numberFormatBlur(document.getElementById(prefix_component + "__conlai"));
			}
		}
		function checkValidDot(textbox) {	
			var e = window.event;
			if(e.keyCode == 46) {
				if (textbox.value.indexOf(".") != -1) e.keyCode = 0;
			}
		}
	</script>
	<body onkeydown="enterToTab();">
	<h:form id="_form" name="_form" onsubmit="return onSubmit()">	
	<div style="width:778px; position:absolute; z-index:99">
	
	
	<c:if test='#{(ten3241_3242.equals("3241") and tenChuongTrinh.equals("ThuVienPhi")) or (ten3241_3242.equals("3242")) or (ten3241_3242.equals("xemchiphidieutri") and B3241_Thanhtoanravien.role.equals("VP"))}'>
	
		<ui:include src="/layout/mymenu_YTDT_VienPhi_ThuVienPhi.xhtml" />
		
				  </c:if>
		<c:if test='#{ten3241_3242.equals("3241") and tenChuongTrinh.equals("VienPhiTaiKhoa") or (ten3241_3242.equals("xemchiphidieutri") and B3241_Thanhtoanravien.role.equals("NT"))}'>
	
		<ui:include src="/layout//mymenu_YTDT_DieuTriNoiTru.xhtml" />
		</c:if>				    					  			
	</div>
    <table style="margin-top:20px" cellspacing="0" cellpadding="0" border="0" width="777">
    	<tr>
    		<td colspan="3" height="50px">
    			<table cellspacing="0" cellpadding="0" border="0" width="100%" >
    				<tr>
    				
    				  <c:if test='#{ten3241_3242.equals("3241") and tenChuongTrinh.equals("ThuVienPhi")}'>
						<td height="50px" width="35%" style="padding-left: 18px; font-family: Arial; font-size: 18px; color: white; font-weight: bold;" >    			
    						<h:graphicImage value="/images/white_light.gif" width="43" height="16" />
    						THANH TOÁN RA VIỆN
    					</td>
   					  </c:if>
    				 <c:if test='#{ten3241_3242.equals("3241") and tenChuongTrinh.equals("VienPhiTaiKhoa")}'>
						<td height="50px" width="50%" style="padding-left: 18px; font-family: Arial; font-size: 18px; color: white; font-weight: bold;" >    			
    						<h:graphicImage value="/images/white_light.gif" width="43" height="16" />
    						CẬP NHẬT RA VIỆN (BN NHI, BHYT)
    					</td>
   					  </c:if>
    				  <c:if test='#{ten3241_3242.equals("3242")}'>
						<td height="50px" width="60%" style="padding-left: 18px; font-family: Arial; font-size: 18px; color: white; font-weight: bold;" >    			
    						<h:graphicImage value="/images/white_light.gif" width="43" height="16" />
    						THANH TOÁN BỆNH ÁN BỆNH NHÂN BỎ VIỆN
    					</td>
   					  </c:if>
    					 <c:if test='#{ten3241_3242.equals("xemchiphidieutri")}'>
						<td height="50px" width="60%" style="padding-left: 18px; font-family: Arial; font-size: 18px; color: white; font-weight: bold;" >    			
    						<h:graphicImage value="/images/white_light.gif" width="43" height="16" />
    						XEM CHI PHÍ ĐIỀU TRỊ
    					</td>
   					  </c:if>
    					
    					<td valign="top">
    					<table cellspacing="0" cellpadding="0" width="100%" >
    						<tr>
    							<td style="font-family: Arial; font-size: 12px; color: white; text-align: right; padding-right: 15px; padding-bottom: 2px; height: 25px; border-bottom: solid 1px #97989a;" valign="bottom" >
    								&#160;
    							</td>
    						</tr>
    					</table> 
    					</td>
    				</tr>
    			</table>			
    		</td>    		    	
    	</tr>    
    	<tr>
    		<td width="13px" height="12px" class="mytdl">    			
    		</td>
    		<td style="background-color: #c9daea;" width="965px" height="12px" >       			   			 		 		 		 	
    		</td>
    		<td width="11px" height="12px" class="mytdr">    			
    		</td>
    	</tr>
    	<tr>
    		<td width="100%" style="background-color: #c9daea; padding-top: 0px; padding-bottom: 0px" colspan="3" align="center">  
    		      	<a4j:outputPanel id="__message">
        				<h:messages styleClass="mynull"/>
					</a4j:outputPanel>
    		</td>    		
    	</tr>
    	<tr>
    		<td align="center" colspan="3" style="background-color: #c9daea; padding-top: 10px; padding-bottom: 15px" width="100%" >
    			<!-- Main Area -->    		
    			<table cellspacing="0" cellpadding="0" border="0" width="100%" >
    		
    			<tr style="height: 25px">
		    		<td align="right" width="16%">
		    			<h:outputText value="Ngày" styleClass="mytext" style="margin-right: 5px; margin-left: 0px;"/>
		    		</td>
		    		<td align="left">
		    		
		    		<h:inputText maxlength="5"  onkeypress="iesvn_InputInKeys('1234567890:');" 
		    			value="#{B3241_Thanhtoanravien.gioThanhToan}" tabindex="1" id="__gio" name="_gio" 
		    			style="width: 35px;margin-right:3px;" styleClass="myinput"  onkeyup="checkHour(this);" 
		    			onblur='if(this.className.match(/focus/gi))    this.className = this.className.replace(/focus/gi,""); checkHourBlur(this)'/>    						
		    			
		    			<h:inputText value="#{B3241_Thanhtoanravien.ngayTtoan}" onkeypress="return being_wellformed_Date(this, event)" 
		    			onblur='if(this.className.match(/focus/gi))    this.className = this.className.replace(/focus/gi,"");  return is_wellformed_Date(this)' 
		    			tabindex="2" type="text" id="__ngay" name="_ngay" maxlength="10" style=" width : 70px;" class="myinput"/><a hideFocus="true" href="javascript:void(0)" onclick="if(self.gfPop)gfPop.fPopCalendar(document.getElementById('__ngay'));document.getElementById(prefix_component + '__phieuso').focus();return false;" ><h:graphicImage value="/resources/calendar/cal.gif" style="margin:0 0 -3px 0" border="0" name="popcal"/></a>	
						<h:outputText value="Phiếu số" styleClass="mytext" style="margin-right: 5px; margin-left: 45px;"/>
	    				<h:inputText maxlength="15" value="#{B3241_Thanhtoanravien.hsThtoan.hsthtoanMa}" id="__phieuso" name="_phieuso" style=" width : 100px;" styleClass="myinput">
	    				<a4j:support oncomplete="highlightOnFocus();onCompleteGetInfor();" event="onblur"  
	    					action="#{B3241_Thanhtoanravien.findBySoPhieu}" 
	    						focus="__noidungmo" 
	    						onsubmit="if (! checkEmpty(prefix_component + '__phieuso')) { return false; } "
	    						reRender="DT_DM_NHAN_VIEN_MA_1,__huyPhieu,__listClsMo,__listThuocNT,__gio,__ghinhan,__inPhieu,__inPhieuTT,__inPhieuNgT,__khoadau,DM_TAI_NAN,DM_DOI_TUONG,DM_PL_TAI_NAN_MA,DT_DM_KCB_BHYT,DT_DM_NHAN_VIEN_MA_1,__thuoc1,__thuoc2,__vtth1,__vtth2,__sodu,__cls1,__cls2,__phong1,__phong2,__tongchi1,__tongchi2,__thatthu,__xetgiam,__lydo,__ngansach,__khongthu1,__bienlai1,__bienlai2,__bienlai3,hid_hienThiInPhieu,hid_hienThiGhiNhan,__phieuso,__nam,__donViTuoiHid,__noidungmo,DM_BENH_ICD_MA_1,DM_BENH_ICD__1,DM_BENH_VIEN_MA_1,DM_BENH_VIEN__1,DM_BENH_VIEN_MA_2,DM_BENH_VIEN__2,__dieutringoai,__dieutrinoi,__dieutridongy,DT_DM_KET_QUA_MA,DM_KET_QUA_DIEU_TRI,__ngaynhapvien,__ngayravien,__sonha,__xa,__huyen,__tinh,__khoadieutri1,__dantoc,DT_DM_DOI_TUONG_MA,__hoten,__tuoi,__bhyt5,KCBBHYT_MA,__tuyen,__ungtra,__dienmien,__phauthuat1,__phauthuat2,__thanhtoan,__khongthu2,__sobenhan,resultHidden,__message,hid_ReportFinished,hid_ReportFileName,__maFinish,__lidott,__conlai,DM_KHOA_MA,DM_KHOA,labelMsg,__nguonkhactra,hid_nguonkhactra,hid_benhnhantra,hid_conlai"/>
	    				</h:inputText>
	    				
					<c:if test='#{ten3241_3242.equals("3241") or ten3241_3242.equals("3242")}'>
    					<h:outputText value="Thu ngân" styleClass="mytext" style="margin-right: 5px; margin-left: 10px;"/>
	    					<h:inputText readonly="true"  value="#{B3241_Thanhtoanravien.nhanVienThungan.dtdmnhanvienTen}" id="DT_DM_NHAN_VIEN_MA_1"  style="width: 230px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();" />
	    				</c:if>
    					
	    				</td>
	    		</tr>
    			<tr style="height: 25px">
		    		<td align="right" width="13%">
		    			<h:outputText value="Khoa phòng" styleClass="mytext" style="margin-right: 5px; margin-left: 11px;"/>
	    				
		    		</td>
		    		<td align="left">
		    			
	    				<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.hsba.getHsbaKhoadangdt(true).dmkhoaMa}" id="DM_KHOA_MA" name="DM_KHOA_MA" style=" width : 30px ; "   styleClass="myreadonly" onkeydown="return disabledBackSpace();" />
	    				<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.hsba.getHsbaKhoadangdt(true).dmkhoaTen}"  id="DM_KHOA" name="DM_KHOA" style=" width : 200px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();" />	
	    				
	    				<h:outputText value="Số bệnh án" styleClass="mytext" style="margin-right: 5px; margin-left: 27px;"/>
	    						
	    				<h:inputText  maxlength="17" tabindex="5" value="#{B3241_Thanhtoanravien.hsba.hsbaSovaovien}" id="__sobenhan" name="_sobenhan" style=" width : 110px;" styleClass="myinput">
	    					<a4j:support oncomplete="highlightOnFocus();onCompleteGetInfor();" event="onblur"  
	    					action="#{B3241_Thanhtoanravien.displayInfor}" 
	    						focus="__noidungmo" 
	    						onsubmit="if (! checkEmpty(prefix_component + '__sobenhan')) { return false; } "
	    						reRender="DT_DM_NHAN_VIEN_MA_1,DM_KHOA_MA,DM_KHOA,__huyPhieu,__gio,__ngay,__ghinhan,__inPhieu,__inPhieuTT,__inPhieuNgT,DM_TAI_NAN,DM_DOI_TUONG,DT_DM_KCB_BHYT,DT_DM_NHAN_VIEN_MA_1,__tongchi1,__sodu,__xetgiam,__ngansach,hid_hienThiInPhieu,hid_hienThiGhiNhan,__donViTuoiHid,__noidungmo,__hoten,__nam,__tuoi,__dantoc,__sonha,DM_BENH_VIEN_MA_1,DM_BENH_VIEN__1,DM_BENH_VIEN_MA_2,DM_BENH_VIEN__2,DM_BENH_ICD_MA_1,DM_BENH_ICD__1,__dieutringoai,__dieutrinoi,__dieutridongy,__xa,__huyen,__tinh,__bhyt5,KCBBHYT_MA,DT_DM_KET_QUA_MA,DM_KET_QUA_DIEU_TRI,__tuyen,__khoadau,__ngaynhapvien,__ngayravien,__khoadieutri1,DM_PL_TAI_NAN_MA,DT_DM_DOI_TUONG_MA,__ungtra,__thuoc1,__thuoc2,__vtth1,__vtth2,__thatthu,__dienmien,__cls1,__cls2,__lydo,__phauthuat1,__phauthuat2,__thanhtoan,__phong1,__phong2,__tongchi2,__khongthu1,__khongthu2,__bienlai1,__bienlai2,__bienlai3,__sobenhan,DM_BENH_VIEN_MA_2,resultHidden,__message,__phieuso,hid_ReportFinished,hid_ReportFileName,__maFinish,__lidott,__conlai,
	    						         DM_BENH_ICD_MA_1_pk,__listClsMo,__listThuocNT,labelMsg,__nguonkhactra,hid_nguonkhactra,hid_benhnhantra,hid_conlai"/>
	    				</h:inputText>
	    				<h:outputText value="*" styleClass="mynull" />
	    				<button name="_goiBN" id="__goiBN" value="Gọi BN" onclick="goiBN('__sobenhan', '__hoten');" style="margin-left:15px;" type="button">Gọi BN</button>
    						<applet code="com.iesvn.test.testapplet.ClientQuangBaoApplet.class" archive="ClientQuangBao.jar"
width="1" height="1" id="xyz" name="xyz"></applet>
		    		</td>
	    		</tr>
    			<tr style="height: 25px">
	    			<td align="right">
	    				<h:outputText value="Họ tên" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
	    			</td>
	    			<td align="left">
	    				<h:inputText readonly="true"  value="#{B3241_Thanhtoanravien.benhNhan.benhnhanHoten}" id="__hoten" name="_hoten" style="float: left; width : 157px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
    					<h:outputText value="Giới tính" styleClass="mytext" style="float: left; padding-top:3px; margin-left: 5px; margin-right: 0px;"/>
    					<h:selectOneRadio disabled="true"  value="#{B3241_Thanhtoanravien.gioi}" id="__nam" style="float: left;">
					       	<f:selectItem id="__namItems" itemValue="r1" itemLabel="Nam" styleClass="mycheck"   />					    
					       	<f:selectItem id="__nuItems" itemValue="r2" itemLabel="Nữ" styleClass="mycheck" />
					    </h:selectOneRadio>	
    					<h:outputText value="Tuổi" styleClass="mytext" style="float:left; margin-right: 5px; margin-left: 25px;margin-top:3px;"/>
    					<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.tuoi}"  id="__tuoi" name="_tuoi" style="float: left; width : 30px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
    				 	
    				 	<h:outputText value="(Năm)" id="__donViTuoi" styleClass="mytext" style="margin-top:3px;margin-left: 2px; float:left"/> 		
	    				<h:inputHidden id = "__donViTuoiHid" value = "#{B3241_Thanhtoanravien.benhNhan.benhnhanDonvituoi}"/>
	    					
	    					
    				 	<h:outputText value="Dân tộc" styleClass="mytext" style="float: left;margin-top:3px; margin-right: 5px; margin-left: 45px;"/>
    					<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.benhNhan.getDantocMa(true).dmdantocTen}" id="__dantoc" name="_dantoc" style="float: left; width: 100px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
	    			</td>
	    		</tr>
    			
    			<tr style="height: 25px">
		    		<td align="right">
	   					<h:outputText value="Địa chỉ" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
	 				</td>
   					<td align="left">
    					<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.benhNhan.benhnhanDiachi}"  id="__sonha" name="_sonha" style=" width : 157px;margin-right:3px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
   						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.benhNhan.getXaMa(true).dmxaTen}"  id="__xa" name="_xa" style=" width : 150px;margin-right:3px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
   						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.benhNhan.getHuyenMa(true).dmhuyenTen}"  id="__huyen" name="_huyen" style=" width : 150px;margin-right:3px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
   						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.benhNhan.getTinhMa(true).dmtinhTen}" id="__tinh" name="_tinh" style=" width : 150px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>   					 	
   					</td>
	    		</tr>
	    		<tr style="height: 25px">
		    		<td align="right">
	   					<h:outputText value="Thẻ BHYT/Thẻ nghèo" styleClass="mytext" style="margin-right: 3px; margin-left: 2px;"/>
	 				</td>
   					<td align="left">
   						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.soThe}" id="__bhyt5" name="_bhyt5" style=" width : 157px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
   					</td>
	    		</tr>
    			<tr style="height: 25px">
		    		<td align="right">
		    			<h:outputText value="KCB" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
		    		</td>
		    		<td align="left">
		    			
		    			<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.hsbaBhyt.getHsbabhytMakcb(true).dmbenhvienMa}"  
		    				id="KCBBHYT_MA" name="_KCBBHYT_MA" style=" width : 40px ; margin-right:3px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"
		    				 maxlength="10" />
	    				<h:inputText readonly="true"  value="#{B3241_Thanhtoanravien.hsbaBhyt.getHsbabhytMakcb(true).dmbenhvienTen}"  id="DT_DM_KCB_BHYT" name="DT_DM_KCB_BHYT" class="myreadonly" style="width: 245px;" onkeydown="return disabledBackSpace();"/>
	    					
		    			<h:outputText value="Tuyến" styleClass="mytext" style="margin-right: 5px; margin-left: 10px;"/>
		    			<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.hsbaBhyt.hsbabhytTuyen}" id="__tuyen" name="_tuyen" style=" width : 30px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
	    				<h:outputText value="Khoa đầu điều trị" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
	    				<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.hsba.getHsbaKhoavaov(true).dmkhoaTen}" id="__khoadau" name="_khoadau" style=" width : 148px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
	    				</td>
	    		</tr>
	    		<tr style="height:25px">
	    			<td align="right">
	    				<h:outputText value="Ngày nhập viện" styleClass="mytext" style="margin-right: 5px; margin-left:0px;"/>
	    				
	    			</td>
	    			<td align="left">
	    				<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.ngayNhapvien}" onkeypress="return being_wellformed_Date(this, event)" onblur="return is_wellformed_Date(this)"  
	    					type="text" id="__ngaynhapvien" name="_ngaynhapvien" maxlength="10" style=" width : 80px;" class="myreadonly" onkeydown="return disabledBackSpace();"/>
	    					<a hideFocus="true" href="javascript:void(0)" onclick="if(self.gfPop)gfPop.fPopCalendar(document.getElementById('__ngaynhapvien'));document.getElementById(prefix_component + '__khoadieutri1').focus();return false;" ><h:graphicImage value="/resources/calendar/cal.gif" style="margin:0 0 -3px 0; display:none;" border="0" name="popcal"/></a>
		    				<h:outputText value="Các khoa điều trị" styleClass="mytext" style="margin-right: 5px; margin-left: 140px;"/>
	    					<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.cacKhoadt}"  id="__khoadieutri1" name="_khoadieutri1" style=" width : 283px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
    					
	    			</td>
	    		</tr>
	    		<tr style="height:25px">
	    			<td align="right">
	    			<h:outputText value="Tai nạn" styleClass="mytext" style="margin-right: 5px; margin-left: 14px;"/>
    						
	    			</td>
	    			<td align="left" >
	    				
    					
    					<h:inputText  readonly="true"  value="#{B3241_Thanhtoanravien.hsba.getTainanMa(true).dmtainanMa}"  
    						id="DM_PL_TAI_NAN_MA" name="DM_PL_TAI_NAN_MA" style=" width : 30px; margin-right:3px;" styleClass="myreadonly"
    						onkeydown="return disabledBackSpace();" maxlength="10"  />
    					
    					<h:inputText readonly="true"  value="#{B3241_Thanhtoanravien.hsba.getTainanMa(true).dmtainanTen}"  id="DM_TAI_NAN" name="DM_TAI_NAN" style="width: 221px; margin-right: 10px" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
    					 	
	    				
    					
    					<h:outputText value="ĐT xét miễn" styleClass="mytext" style="margin-right: 5px; margin-left: 76px;"/>
    					<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.hsba.getDoituongMa(true).dmdoituongMa}"  
    						id="DT_DM_DOI_TUONG_MA" name="DT_DM_DOI_TUONG_MA" style=" width : 30px;margin-right:4px;" styleClass="myreadonly"
    						onkeydown="return disabledBackSpace();" maxlength="10" />
    					
    					<h:inputText readonly="true"  value="#{B3241_Thanhtoanravien.hsba.getDoituongMa(true).dmdoituongTen}"  id="DM_DOI_TUONG" name="DM_DOI_TUONG" styleClass="myreadonly" style="width: 172px;margin-right:10px;" onkeydown="return disabledBackSpace();" />
    					 	
	    			</td>
	    		</tr>
	    		
    		</table>
    			
    			<table cellspacing="0" cellpadding="0" border="0" width="100%" align="center">
    				<tr style="height: 25px;">    					
    					<td  align="right" width="16%">
    						<h:outputText value="Nội dung mổ" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
    					</td>	
    					<td align="left" style="padding-right: 15px">
    						<h:inputText value="#{B3241_Thanhtoanravien.hsThtoan.hsthtoanNoidungpt}" 
    							tabindex="5" maxlength="255"  id="__noidungmo" name="_noidungmo" style=" width : 255px;" styleClass="myinput"/>
    					
    						<h:outputText value="Chẩn đoán ra viện" styleClass="mytext" style="margin-right: 5px; margin-left: 52px;"/>
    						<h:inputHidden id="DM_BENH_ICD_MA_1_pk" value="#{B3241_Thanhtoanravien.hsba.getHsbaMachdravien(true).dmbenhicdMaso}"/>
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.hsba.getHsbaMachdravien(true).dmbenhicdMa}"  
    							id="DM_BENH_ICD_MA_1" name="DM_BENH_ICD_MA_1" style=" width : 30px;margin-right:3px;" styleClass="myreadonly"
    							onkeydown="return disabledBackSpace();" maxlength="10"/>    					 	
    					 	<h:inputText readonly="true" id="DM_BENH_ICD__1" name="DM_BENH_ICD" value="#{B3241_Thanhtoanravien.hsba.getHsbaMachdravien(true).dmbenhicdTen}" style="width: 172px;margin-right:10px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
    					 		
    				
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td style="padding-right: 0px; " align="right" >
    						<h:outputText value="BV gửi đến" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
    						
    					</td>
    					<td style="padding-right: 15px; " align="left" >
    						<h:inputHidden id="DM_BENH_VIEN_MA_1_pk" value="#{B3241_Thanhtoanravien.hsba.getHsbaDonvigoi(true).dmbenhvienMaso}"/>
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.hsba.getHsbaDonvigoi(true).dmbenhvienMa}" id="DM_BENH_VIEN_MA_1" name="DM_BENH_VIEN_MA_1" style=" width : 30px;margin-right:3px;" 
    							maxlength="10" styleClass="myreadonly" onkeydown="return disabledBackSpace();"
    							/>
    					 	
    					 	<h:inputText readonly="true" id="DM_BENH_VIEN__1" name="DM_BENH_VIEN"  value="#{B3241_Thanhtoanravien.hsba.getHsbaDonvigoi(true).dmbenhvienTen}" style="width: 219px;margin-right: 10px" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
    					 		
    				
    						<h:outputText value="Chuyển đến BV" styleClass="mytext" style="margin-right: 5px; margin-left: 59px;"/>
    						<h:inputHidden id="DM_BENH_VIEN_MA_2_pk" value="#{B3241_Thanhtoanravien.hsbaChuyenvien.getHsbacvChvienden(true).dmbenhvienMaso}"/>
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.hsbaChuyenvien.getHsbacvChvienden(true).dmbenhvienMa}"  
    							id="DM_BENH_VIEN_MA_2" name="DM_BENH_VIEN_MA_2" style=" width : 30px;margin-right:3px;" styleClass="myreadonly"
    							onkeydown="return disabledBackSpace();" maxlength="10" />    					 	
    					 	<h:inputText readonly="true" id="DM_BENH_VIEN__2" value="#{B3241_Thanhtoanravien.hsbaChuyenvien.getHsbacvChvienden(true).dmbenhvienTen}" name="DM_BENH_VIEN"  style="width: 172px;margin-right:10px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
    					 	
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right">    						
    						&#160;
    					</td>
    					<td align="left" > 
    					
        					<h:selectBooleanCheckbox  title="Điều trị ngoại" label="Điều trị ngoại" id="__dieutringoai"  value="#{B3241_Thanhtoanravien.hsba.hsbaNgoai}" tabindex="13">
       						</h:selectBooleanCheckbox>
       						<h:outputText value="Điều trị ngoại" styleClass="mytext"/>
        					<h:selectBooleanCheckbox  title="Điều trị nội" label="Điều trị nội" id="__dieutrinoi"  value="#{B3241_Thanhtoanravien.hsba.hsbaNoi}" tabindex="14">
       						</h:selectBooleanCheckbox>
       						<h:outputText value="Điều trị nội" styleClass="mytext"/>
   	 						<h:selectBooleanCheckbox  title="Điều trị đông y" label="Điều trị đông y" id="__dieutridongy"  value="#{B3241_Thanhtoanravien.hsba.hsbaDongy}" tabindex="15">
       						</h:selectBooleanCheckbox>
       						<h:outputText value="Điều trị đông y" styleClass="mytext"/>
    					   						
    						<h:outputText value="Kết quả điều trị" styleClass="mytext" style="margin-right: 5px; margin-left: 57px;"/>
    						
    						<h:inputHidden id="DT_DM_KET_QUA_MA_pk" value="#{B3241_Thanhtoanravien.hsba.getHsbaKetqua(true).dmkqdtMaso}"/>
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.hsba.getHsbaKetqua(true).dmkqdtMa}"  
    							id="DT_DM_KET_QUA_MA" name="DT_DM_KET_QUA_MA" style="width: 30px;margin-right:3px;" styleClass="myreadonly"
    							onkeydown="return disabledBackSpace();" maxlength="10" />    					 	
    					 	<h:inputText readonly="true" id="DM_KET_QUA_DIEU_TRI" value="#{B3241_Thanhtoanravien.hsba.getHsbaKetqua(true).dmkqdtTen}" name="DM_KET_QUA_DIEU_TRI" style="width: 172px;" styleClass="myreadonly" onkeydown="return disabledBackSpace();"/>
    					 		
    					</td>
    				</tr>
    				<tr style="height: 25px;">    					
    					<td  align="right" width="16%">
    						<h:outputText value="Lí do thanh toán" styleClass="mytext" style="margin-right: 5px; margin-left: 5px;"/>
    					</td>	
    					<td align="left">
    						<h:inputText value="#{B3241_Thanhtoanravien.liDoTT}" tabindex="18" maxlength="255"  id="__lidott" name="__lidott" style=" width : 255px;" styleClass="myinput"/>
    						<h:outputText value="Ngày ra viện" styleClass="mytext" style="margin-right: 5px; margin-left: 85px;"/>
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.ngayRavien}"   
	    					type="text" id="__ngayravien" name="_ngayravien" maxlength="10" style=" width : 80px;" class="myreadonly" onkeydown="return disabledBackSpace();"/>
    					</td>
    				</tr>
    			</table>					
    		</td>
    	</tr>
    		
    	<tr>
    		<td colspan="3" style="background-color: white; padding-top: 5px; padding-bottom: 15px;" width="100%" align="center">
    		
    			<!-- Detail Area -->
    		<table cellspacing="0" cellpadding="0" border="0" width="100%" >
    		      <c:if test='#{ten3241_3242.equals("3241") or ten3241_3242.equals("xemchiphidieutri") or ten3241_3242.equals("3242")}'>
    		      <tr style="height: 25px;">
    		      	<td colspan="4">
    		      	 <rich:dataTable headerClass="mycol" id="__listClsMo" rowClasses="myrow1,myrow2"
	                          styleClass="myTable" value="#{B3241_Thanhtoanravien.listClsMo}" var="currentRow" width="90%" bgcolor="#cccccc">
	                        <rich:column id="column_STT" >	 
	                        	<f:facet name="header"><h:outputText value="STT" /> </f:facet>                      	
	                            <h:outputText id="outputText26" value="#{B3241_Thanhtoanravien.listClsMo.indexOf(currentRow) + 1}"/>                 
	                        </rich:column>
	                        
	                        <rich:column id="column_loai">	 
	                        	<f:facet name="header"><h:outputText value="Loại" /> </f:facet>                       	
                                <h:outputText id="clskhamloai" value="#{currentRow.clsmoLoai}" /> 
	                        </rich:column>
	                        
	                        <rich:column id="column_maso">  
	                             <f:facet name="header"><h:outputText value="Mã số" /> </f:facet>	                        	                                                 
	                             <h:outputText id="maso" value="#{currentRow.clsmoMahang.dtdmclsbgMa}" />          
	                        </rich:column>
	                        
	                        <rich:column id="column_diengiai" align="left"> 
	                            <f:facet name="header"><h:outputText value="Tên CLS, PT, TT" /> </f:facet> 	                        	                                                
	                        	<h:outputText id="tencls" value="#{currentRow.clsmoMahang.dtdmclsbgDiengiai}" />  
	                        </rich:column>
	                        
	                       	                       
	                        <rich:column id="column_mp">  	                        	   
	                        	<f:facet name="header"><h:outputText value="MP" /> </f:facet>	                                             
	                             <h:outputText id="mp_table"  value="#{currentRow.clsmoMien == true?'x':''}" />          
	                        </rich:column>
	                        
	                        <rich:column id="column_yc">   	                  
	                        	<f:facet name="header"><h:outputText value="YC" /> </f:facet>      	                                                 
	                             <h:outputText id="yeucau_table" value="#{currentRow.clsmoYeucau == true?'x':''}" />          
	                        </rich:column>
	                        <rich:column id="column_ktc">   
	                        	<f:facet name="header"><h:outputText value="KTC" /> </f:facet>	
	                             <h:outputText id="kythuatcao_table" value="#{currentRow.clsmoKtcao == true?'x':''}" />          
	                        </rich:column>
	                        <rich:column id="column_soluong" align="right">  
	                        	<f:facet name="header"><h:outputText value="SL" /> </f:facet>	                        	                                                
	                             <h:outputText id="soluong_table" value="#{currentRow.clsmoLan}" ><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:outputText>          
	                        </rich:column>
	                        <rich:column id="column_dongia"  align="right">  
	                        	<f:facet name="header"><h:outputText value="Đơn giá" /> </f:facet>	                        	                                              
	                             <h:outputText id="dongia_table" value="#{currentRow.clsmoDongia}" ><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:outputText>          
	                        </rich:column>
	                        
	                         
	                       <rich:column id="column_thanhtien"  align="right" style="padding-right:17px;">  
	                        	<f:facet name="header"><h:outputText value="Thành tiền" /> </f:facet>	                        	                                              
	                             <h:outputText id="thanhtien_table" value="#{currentRow.clsmoDongia * currentRow.clsmoLan}" ><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:outputText>          
	                        </rich:column>
                            
	                    </rich:dataTable>
    		      	</td>
    		      </tr>
    		      <tr style="height: 25px;">
    		      	<td colspan="4"></td>
    		      </tr>	
    		      <tr style="height: 25px;">
    		      	<td colspan="4">
    		      	 <rich:dataTable id="__listThuocNT"  width="90%" value="#{B3241_Thanhtoanravien.listThuocNT}" var="thuoc" align="center" border="0" cellpadding="0" cellspacing="0"
	    				headerClass="mycol" rowClasses="myrow1,myrow2" bgcolor="#cccccc" >
	    				<rich:column align="center" >
	    					<f:facet name="header"><h:outputText value="STT" /> </f:facet>	    					
	    					<h:outputText value="#{B3241_Thanhtoanravien.listThuocNT.indexOf(thuoc) + 1}" style="padding-left: 3px;" />
	    				</rich:column>
	    				<rich:column align="center" >    						
	    					<f:facet name="header"><h:outputText value="Mã số" /> </f:facet>
	    					<h:outputText value="#{thuoc.thuocnoitruMathuoc.dmthuocMa}" style="padding-left: 3px;" />				
	    				</rich:column>
	    				<rich:column align="left" >    					
	    					<f:facet name="header"><h:outputText value="Tên thuốc, quy cách" /> </f:facet>
	    					<h:outputText value="#{thuoc.thuocnoitruMathuoc.dmthuocTen}" style="padding-left: 3px;" />
	    				</rich:column>
	    				<rich:column align="center" > 
	    				    <f:facet name="header"><h:outputText value="NSX" /> </f:facet>   					
	    					<h:outputText value="#{thuoc.getThuocnoitruQuocgia(true).dmquocgiaMa}" style="padding-left: 3px;" />
	    				</rich:column>
	    				<rich:column align="center" >
	    					<f:facet name="header"><h:outputText value="HSX" /> </f:facet>    					
	    					<h:outputText value="#{thuoc.getThuocnoitruHangsx(true).dmnhasanxuatTen}" style="padding-left: 3px;" />
	    				</rich:column>
	    				<rich:column align="right" >    					
	    					<f:facet name="header"><h:outputText value="Số lượng" /> </f:facet>
	    					<h:outputText value="#{thuoc.thuocnoitruSoluong}" style="padding-left: 3px;" >
	    					<f:converter converterId="com.iesvn.yte.converter.DoubleConverter2FractionDigits" />
	    					</h:outputText>
	    				</rich:column>
	    				<rich:column align="right" >
	    					<f:facet name="header"><h:outputText value="Đơn giá" /> </f:facet>    					
	    					<h:outputText value="#{thuoc.thuocnoitruDongiatt}" style="padding-left: 3px;" >	    						
	    					</h:outputText>
	    				</rich:column>
	    				<rich:column align="right" style="padding-right:17px;" >
	    					<f:facet name="header"><h:outputText value="Thành tiền" /> </f:facet>    					
	    					<h:outputText value="#{thuoc.thuocnoitruThanhtien}" style="padding-left: 3px;" >	    						
	    					</h:outputText>
	    				</rich:column>
	    					    					    				 
	    			</rich:dataTable>
    		      	</td>
    		      </tr>
    		      <tr style="height: 25px;">
    		      	<td colspan="4"></td>
    		      </tr>
    		      </c:if>
    		      <c:if test='#{ten3241_3242.equals("3241") or ten3241_3242.equals("xemchiphidieutri")}'>
    				<tr style="height: 25px;">    					
    					<td  align="right">
    						&#160;
    					</td>
    					<td align="right">
    						<h:outputText value="Ngoài DM                Danh mục TT     " styleClass="mytext"/>
    						
    					</td>
    					<td align="right" style="padding-right: 5px;" >
    						<h:outputText value="Ứng-trả" styleClass="mytext"/>
    					</td>   
    					<td align="left" style="padding-right: 15px;">    						
    						
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.ungTra}"  id="__ungtra" name="_ungtra" style="width: 70px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    					
    					</td> 					
    				</tr>
    				<tr style="height: 25px;">    					
    					<td  align="right">
    						&#160;
    					</td>
    					<td align="right">
    						<h:outputText value="Thuốc" styleClass="mytext"/>&#160;&#160;
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.thuocNDM}"  id="__thuoc1" name="_thuoc1" style="width: 100px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>&#160;
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.thuocTrongDM}"  id="__thuoc2" name="_thuoc2" style="width: 100px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    					
    					</td>
    					<td align="right" style="padding-right: 5px;" >
    						<h:outputText value="BN trả" styleClass="mytext"/>
    						
    					</td>   
    					<td align="left" style="padding-right: 15px;">    						
    						
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.benhnhanTra}"  id="__sodu" name="_sodu" style="width: 70px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    					
    					</td> 					
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right" style="padding-right: 0px">
    						&#160;
    					</td>
    					<td align="right" style="padding-right: 0px">
    						<h:outputText value="VTTH" styleClass="mytext" />&#160;&#160;
    						<h:inputText readonly="true"  
    						value="#{B3241_Thanhtoanravien.VTTHNDM}" 
    						id="__vtth1" name="_vtth1" style="width: 100px; margin-right:3px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();">
    						<f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" />
    						</h:inputText> 
    						<h:inputText readonly="true"  value="#{B3241_Thanhtoanravien.VTTHTrongDM}" id="__vtth2" name="_vtth2" style="width: 100px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    					
    					</td>
    					<td align="right" style="padding-right: 5px;">    						
    					<h:outputText value="Thất thu, xét miễn" styleClass="mytext"/>	
    					</td>
    					<td align="left" style="padding-right: 15px">
    						<h:inputText  onblur="numberFormatBlur(this);" onfocus="numberFormatFocus(this)" 
    						onkeypress="iesvn_InputInKeys('0123456789,.')"
    						value="#{B3241_Thanhtoanravien.hsThtoan.hsthtoanThatthu}" tabindex="18" id="__thatthu" 
    						name="_thatthu" style="width: 70px;margin-right:3px" styleClass="myinputso"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.miengiam}"  id="__xetgiam" name="_thatthu" style="width: 70px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    						
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right" style="padding-right: 0px">
    						&#160;
    					</td>
    					<td align="right" style="padding-right: 0px">
    						<h:outputText value="Tiền khám và CLS" styleClass="mytext"/>&#160;&#160;
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.clsMauNDM}"  id="__cls1" name="_cls1" style="width: 100px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>&#160;
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.CLSMauTrongDM}"  id="__cls2" name="_cls2" style="width: 100px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    					
    					</td>
    					<td align="right" style="padding-right: 5px;">    						
    						<h:outputText  value="Lý do thất thu" styleClass="mytext"/>
    						
    					</td>
    					<td align="left" style="padding-right: 15px">
    						<h:inputText  value="#{B3241_Thanhtoanravien.hsThtoan.hsthtoanLydott}" tabindex="19" id="__lydo" name="_lydo" style=" width : 219px;" styleClass="myinput"></h:inputText>    						
    					
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right" style="padding-right: 0px">
    						&#160;
    					</td>
    					<td align="right" style="padding-right: 0px">
    					<h:outputText value="Tổng chi phí" styleClass="mytext"/>&#160;&#160;
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.tongNDM}"  id="__tongchi1" name="_tongchi1" style="width: 100px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>&#160;
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.tongTrongDM}"  id="__tongchi2" name="_tongchi2" style="width: 100px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    					
    					</td>
    					<td align="right" style="padding-right: 5px;">    						
    						
    							<h:outputText value="Ngân sách" styleClass="mytext"/>
    						
    					</td>
    					<td align="left" style="padding-right: 15px">
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.hsThtoan.hsthtoanNgansach}"  id="__ngansach" name="_ngansach" style="width: 100px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    					
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right" style="padding-right: 0px">
    						&#160;
    					</td>
    					<td align="right" style="padding-right: 15px">
    						<h:outputText value="Biên lai" styleClass="mytext"/>&#160;&#160;
    						<h:inputText value="#{B3241_Thanhtoanravien.hsThtoan.hsthtoanKyhieu}" maxlength="8" tabindex="20" id="__bienlai1" name="_bienlai1" style="width: 60px;" styleClass="myinput"/>&#160;
    						<h:outputText value="*" styleClass="mynull" style="display:none;"/>
    						<h:inputText value="#{B3241_Thanhtoanravien.hsThtoan.hsthtoanQuyen}" maxlength="8" tabindex="21" id="__bienlai2" name="_bienlai2" style=" width : 60px;" styleClass="myinput"/>&#160;
    						<h:outputText value="*" styleClass="mynull" style="display:none;"/>
    						<h:inputText value="#{B3241_Thanhtoanravien.hsThtoan.hsthtoanBienlai}" maxlength="8" tabindex="22" id="__bienlai3" name="_bienlai3" style="width: 60px;" styleClass="myinput"/>    						
    						<h:outputText value="*" styleClass="mynull" style="display:none;"/>
    					
    					</td>
    					<td align="right" style="padding-right: 5px;">    						
    						<h:outputText value="Không thu" styleClass="mytext"/>
    						
    					</td>
    					<td align="left" style="padding-right: 15px">
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.nSKhongThu}"   id="__khongthu1" name="_khongthu1" style="width: 100px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    						
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right" style="padding-right: 0px">
    						
    					</td>
    					<td align="right" style="padding-right: 15px">
    						
    					
    					</td>
    					<td align="right" style="padding-right: 5px;">    						
    						<h:outputText value="Nguồn khác trả" styleClass="mytext"/>
    						
    					</td>
    					<td align="left" style="padding-right: 15px">
    						<h:inputText value="#{B3241_Thanhtoanravien.nguonkhactra}" id="__nguonkhactra" name="_nguonkhactra" style="width: 100px;" styleClass="myinputso" 
    						   onkeypress="iesvn_InputInKeys('0123456789');checkValidDot(this)" maxlength="10"
    						   onblur='numberFormatBlur(this);checkTienBNTra(this);'
    						   disabled="#{!B3241_Thanhtoanravien.hienThiGhiNhan}"
    						   ><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    						
    					</td>
    				</tr>
    				<tr style="height: 25px;">
    					<td align="right" style="padding-right: 0px">
    						&#160;
    					</td>
    					<td align="right" style="padding-right: 0px">
    						<h:outputText value="Chi phí bao gồm chi phí ngoại trú và nội trú (mã TD : #{B3241_Thanhtoanravien.cvnt.getTiepDon().getTiepdonMa()})" id="labelMsg" style="display:#{B3241_Thanhtoanravien.hienThiInPhieuNgT ?'block' : 'none'}}" styleClass="mynull"/>    					
    					</td>
    					<td align="right" style="padding-right: 5px;">    						
    						<h:outputText value="Còn lại" styleClass="mytext"/>
    						
    					</td>
    					<td align="left" style="padding-right: 15px">
    						<h:inputText readonly="true" value="#{B3241_Thanhtoanravien.conlai}"   id="__conlai" name="_conlai" style="width: 100px;" styleClass="myreadonlyso" onkeydown="return disabledBackSpace();"><f:converter converterId="com.iesvn.yte.converter.LongDoubleConverter" /></h:inputText>
    						
    					</td>
    				</tr>
    				
    				</c:if>
    					<tr style="height: 25px;">
    					
    					<td align="center" colspan="4" style="padding-top: 10px;">
    							<a4j:commandButton tabindex="23"
    								 onclick="if (! onSubmitTmp()) { return false; }"  id="__ghinhan" name="_ghinhan" 
    								action="#{B3241_Thanhtoanravien.ghinhan()}" value="Ghi nhận" style="width: 70px;" styleClass="mybton_b"  
    								disabled="#{!B3241_Thanhtoanravien.hienThiGhiNhan}"
    								oncomplete="highlightOnFocus();onCompleteGetInfor();focusAfterSave()" 
    								reRender="DT_DM_NHAN_VIEN_MA_1,__huyPhieu,__ghinhan,__inPhieu,__inPhieuTT,__inPhieuNgT,__khoadau,DM_TAI_NAN,DM_DOI_TUONG,DM_PL_TAI_NAN_MA,DT_DM_KCB_BHYT,DT_DM_NHAN_VIEN_MA_1,hid_hienThiInPhieu,hid_hienThiGhiNhan,__phieuso,__nam,__noidungmo,DM_BENH_ICD_MA_1,DM_BENH_VIEN_MA_1,DM_BENH_VIEN_MA_2,__dieutringoai,__dieutrinoi,__dieutridongy,DT_DM_KET_QUA_MA,__ngaynhapvien,__ngayravien,__xa,__huyen,__tinh,__khoadieutri1,__dantoc,DT_DM_DOI_TUONG_MA,__sobenhan,isUpdate,__message,__matiepdon, __giuongso, __gio, __ngay, __hoten, __gioitinh, __tuoi, __donViTuoiHid, __ngaysinh, __sinhtai, __madantoc, __manghenghiep, TINH_MA, HUYEN_MA, XA_MA, __sonha, __bhyt5, __madoituong, __thuoc1, __thuoc2, __vtth1, __vtth2, __cls1, __cls2, __phauthuat1, __phauthuat2, __phong1, __phong2, __tongchi1, __tongchi2, __khongthu2, __ungtra, __thatthu, __xetgiam, __dienmien, __lydo, __thanhtoan, __bienlai1, __bienlai2, __bienlai3,__ngansach,__khongthu1,__sodu,__lidott,__conlai,labelMsg,hid_conlai"></a4j:commandButton>
    						
    								<a4j:commandButton tabindex="24"  
    								id="__tieptucnhap" name="_tieptucnhap" action="#{B3241_Thanhtoanravien.nhaplai()}" value="Nhập mới" 
    								style="width: 80px; margin-left:3px" styleClass="mybton_b" oncomplete="highlightOnFocus();onCompleteGetInfor()" 
    								focus="__sobenhan"
    								reRender="DT_DM_NHAN_VIEN_MA_1,__huyPhieu,__ghinhan,__inPhieu,__inPhieuTT,__inPhieuNgT,__khoadau,DM_TAI_NAN,DM_DOI_TUONG,DM_PL_TAI_NAN_MA,DT_DM_KCB_BHYT,DT_DM_NHAN_VIEN_MA_1,__ngansach,hid_hienThiInPhieu,hid_hienThiGhiNhan,__phieuso,__nam,__noidungmo,DM_BENH_ICD_MA_1,DM_BENH_VIEN_MA_1,DM_BENH_VIEN_MA_2,__dieutringoai,__dieutrinoi,__dieutridongy,DT_DM_KET_QUA_MA,__ngaynhapvien,__ngayravien,__xa,__huyen,__tinh,__khoadieutri1,__dantoc,DT_DM_DOI_TUONG_MA,__khongthu1,__sobenhan,DM_KHOA_MA,DM_KHOA,isUpdate, __message, __matiepdon, __giuongso, __gio, __ngay, __hoten, __gioitinh, __tuoi, __donViTuoiHid, __ngaysinh, __sinhtai, __madantoc, __manghenghiep, TINH_MA, HUYEN_MA, XA_MA, __sonha, __bhyt5, __madoituong, __thuoc1, __thuoc2, __vtth1, __vtth2, __cls1, __cls2, __phauthuat1, __phauthuat2, __phong1, __phong2, __tongchi1, __tongchi2, __khongthu2, __ungtra, __thatthu, __xetgiam, __dienmien, __lydo, __thanhtoan, __bienlai1, __bienlai2, __bienlai3,__sodu,__lidott,__conlai,__listClsMo,__listThuocNT,labelMsg,__nguonkhactra,hid_nguonkhactra,hid_benhnhantra,__gio,__ngay,hid_conlai"/>
    								
    								<a4j:commandButton tabindex="26" id="__inPhieu"
    								disabled="#{!B3241_Thanhtoanravien.hienThiInPhieu}"
    								onclick="if (! onInPhieuTmp) { return false; }" 
    								name="_inPhieu" action="#{B3241_Thanhtoanravien.thuchienAction(0)}" value="In phiếu" 
    								style="width: 80px;margin-left:3px" styleClass="mybton_b" reRender="__message"/>
    								
    								<a4j:commandButton tabindex="25" id="__huyPhieu" 
    								disabled="#{!B3241_Thanhtoanravien.hienThiHuyPhieu}"
    								onclick="if (! onSubmitTmp_HuyPhieu()) { return false; }" 
    								focus="__sobenhan" oncomplete="highlightOnFocus();onCompleteGetInfor()" 
    								name="_huyPhieu" action="#{B3241_Thanhtoanravien.huyPhieu}" value="Hủy phiếu" 
    								style="width: 70px;margin-left:3px" styleClass="mybton_b" 
    								reRender="DT_DM_NHAN_VIEN_MA_1,__huyPhieu,__ghinhan,__inPhieu,__inPhieuTT,__inPhieuNgT,__khoadau,DM_TAI_NAN,DM_DOI_TUONG,DM_PL_TAI_NAN_MA,DT_DM_KCB_BHYT,DT_DM_NHAN_VIEN_MA_1,__ngansach,hid_hienThiInPhieu,hid_hienThiGhiNhan,__phieuso,__nam,__noidungmo,DM_BENH_ICD_MA_1,DM_BENH_VIEN_MA_1,DM_BENH_VIEN_MA_2,__dieutringoai,__dieutrinoi,__dieutridongy,DT_DM_KET_QUA_MA,__ngaynhapvien,__ngayravien,__xa,__huyen,__tinh,__khoadieutri1,__dantoc,DT_DM_DOI_TUONG_MA,__khongthu1,__sobenhan,DM_KHOA_MA,DM_KHOA,isUpdate, __message, __matiepdon, __giuongso, __gio, __ngay, __hoten, __gioitinh, __tuoi, __donViTuoiHid, __ngaysinh, __sinhtai, __madantoc, __manghenghiep, TINH_MA, HUYEN_MA, XA_MA, __sonha, __bhyt5, __madoituong, __thuoc1, __thuoc2, __vtth1, __vtth2, __cls1, __cls2, __phauthuat1, __phauthuat2, __phong1, __phong2, __tongchi1, __tongchi2, __khongthu2, __ungtra, __thatthu, __xetgiam, __dienmien, __lydo, __thanhtoan, __bienlai1, __bienlai2, __bienlai3,__sodu,__lidott,__conlai,__listClsMo,__listThuocNT,__nguonkhactra,hid_nguonkhactra,hid_benhnhantra,__gio,__ngay,hid_conlai"/>
    								
    								<a4j:commandButton tabindex="26" id="__inPhieuTT"
    								disabled="#{!B3241_Thanhtoanravien.hienThiInPhieu}"
    								onclick="if (! onInPhieuTmp) { return false; }" 
    								name="_inPhieu" action="#{B3241_Thanhtoanravien.thuchienAction(1)}" value="In phiếu thanh toán nội trú" 
    								style="width: 170px;margin-left:3px" styleClass="mybton_b"/>
    								
    								<a4j:commandButton tabindex="27" id="__inPhieuNgT"
    								disabled="#{!B3241_Thanhtoanravien.hienThiInPhieuNgT}"
    								onclick="if (! onInPhieuTmp) { return false; }" 
    								name="_inPhieu" action="#{B3241_Thanhtoanravien.XuatPhieuThanhToanNgoaiTru}" value="In phiếu thanh toán ngoại trú" 
    								style="width: 170px;margin-left:3px" styleClass="mybton_b"/>
    								
    								
    								
    								
    						    					
    					</td> 					
    				</tr>
    			</table>
    		</td>
    	</tr>
    </table>
    <h:inputHidden id="resultHidden" value="#{B3241_Thanhtoanravien.resultHidden}"/>
    <h:inputHidden id="hid_ReportFinished" value="#{B3241_Thanhtoanravien.reportFinished}"/>
    <h:inputHidden id="hid_ReportFileName" value="#{B3241_Thanhtoanravien.reportFileNameHid}"/>
    
    <h:inputHidden id="__maFinish" value="#{B3241_Thanhtoanravien.maFinish}"/>
    
        <h:inputHidden id="hid_hienThiGhiNhan" value="#{B3241_Thanhtoanravien.hienThiGhiNhan}"/>
      
         <h:inputHidden id="hid_hienThiInPhieu" value="#{B3241_Thanhtoanravien.hienThiInPhieu}"/>
  <h:inputHidden id="hid_nguonkhactra" value="#{B3241_Thanhtoanravien.nguonkhactra_hid}"/>
  <h:inputHidden id="hid_benhnhantra" value="#{B3241_Thanhtoanravien.benhnhanTra_hid}"/>
<h:inputHidden id="hid_conlai" value="#{B3241_Thanhtoanravien.conlai_hid}"/>	    						
   </h:form>
   </body>
   <script type="text/javascript" src="#{facesContext.externalContext.requestContextPath}/resources/gears/dieutri/vienphi/B3241_Thanhtoanravien_gears.js"></script>
   <iframe width="174" height="189" name="gToday:normal:agenda.js" id="gToday:normal:agenda.js" src="#{facesContext.externalContext.requestContextPath}/resources/calendar/ipopeng.htm" scrolling="no" frameborder="0" style="visibility:visible; z-index:999; position:absolute; top:-500px; left:-500px;"/>
</ui:define> 
</ui:composition>


